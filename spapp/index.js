!function(e){function t(t){for(var r,a,i=t[0],o=t[1],c=t[2],u=0,l=[];u<i.length;u++)a=i[u],Object.prototype.hasOwnProperty.call(D,a)&&D[a]&&l.push(D[a][0]),D[a]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);for(N&&N(t);l.length;)l.shift()();return C.push.apply(C,c||[]),n()}function n(){for(var e,t=0;t<C.length;t++){for(var n=C[t],r=!0,a=1;a<n.length;a++){var i=n[a];0!==D[i]&&(r=!1)}r&&(C.splice(t--,1),e=A(A.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!w[e]||!x[e])return;for(var n in x[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(m[n]=t[n]);0==--y&&0===b&&j()}(e,t),r&&r(e,t)};var a,i=!0,o="411940e19bb966963b16",c={},u=[],l=[];function s(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:a!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:O,apply:I,status:function(e){if(!e)return f;d.push(e)},addStatusHandler:function(e){d.push(e)},removeStatusHandler:function(e){var t=d.indexOf(e);t>=0&&d.splice(t,1)},data:c[e]};return a=void 0,t}var d=[],f="idle";function p(e){f=e;for(var t=0;t<d.length;t++)d[t].call(null,e)}var h,m,v,y=0,b=0,g={},x={},w={};function E(e){return+e+""===e?+e:e}function O(e){if("idle"!==f)throw new Error("check() is only allowed in idle status");return i=e,p("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,a=A.p+""+o+".hot-update.json";r.open("GET",a,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+a+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+a+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return p("idle"),null;x={},g={},w=e.c,v=e.h,p("prepare");var t=new Promise((function(e,t){h={resolve:e,reject:t}}));for(var n in m={},D)k(n);return"prepare"===f&&0===b&&0===y&&j(),t}));var t}function k(e){w[e]?(x[e]=!0,y++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=A.p+""+e+"."+o+".hot-update.js",document.head.appendChild(t)}(e)):g[e]=!0}function j(){p("ready");var e=h;if(h=null,e)if(i)Promise.resolve().then((function(){return I(i)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in m)Object.prototype.hasOwnProperty.call(m,n)&&t.push(E(n));e.resolve(t)}}function I(t){if("ready"!==f)throw new Error("apply() is only allowed in ready status");var n,r,a,i,l;function s(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var a=r.pop(),o=a.id,c=a.chain;if((i=S[o])&&!i.hot._selfAccepted){if(i.hot._selfDeclined)return{type:"self-declined",chain:c,moduleId:o};if(i.hot._main)return{type:"unaccepted",chain:c,moduleId:o};for(var u=0;u<i.parents.length;u++){var l=i.parents[u],s=S[l];if(s){if(s.hot._declinedDependencies[o])return{type:"declined",chain:c.concat([l]),moduleId:o,parentId:l};-1===t.indexOf(l)&&(s.hot._acceptedDependencies[o]?(n[l]||(n[l]=[]),d(n[l],[o])):(delete n[l],t.push(l),r.push({chain:c.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var h={},y=[],b={},g=function(){console.warn("[HMR] unexpected require("+O.moduleId+") to disposed module")};for(var x in m)if(Object.prototype.hasOwnProperty.call(m,x)){var O;l=E(x);var k=!1,j=!1,I=!1,C="";switch((O=m[x]?s(l):{type:"disposed",moduleId:x}).chain&&(C="\nUpdate propagation: "+O.chain.join(" -> ")),O.type){case"self-declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(k=new Error("Aborted because of self decline: "+O.moduleId+C));break;case"declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(k=new Error("Aborted because of declined dependency: "+O.moduleId+" in "+O.parentId+C));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(O),t.ignoreUnaccepted||(k=new Error("Aborted because "+l+" is not accepted"+C));break;case"accepted":t.onAccepted&&t.onAccepted(O),j=!0;break;case"disposed":t.onDisposed&&t.onDisposed(O),I=!0;break;default:throw new Error("Unexception type "+O.type)}if(k)return p("abort"),Promise.reject(k);if(j)for(l in b[l]=m[l],d(y,O.outdatedModules),O.outdatedDependencies)Object.prototype.hasOwnProperty.call(O.outdatedDependencies,l)&&(h[l]||(h[l]=[]),d(h[l],O.outdatedDependencies[l]));I&&(d(y,[O.moduleId]),b[l]=g)}var _,P=[];for(r=0;r<y.length;r++)l=y[r],S[l]&&S[l].hot._selfAccepted&&b[l]!==g&&P.push({module:l,errorHandler:S[l].hot._selfAccepted});p("dispose"),Object.keys(w).forEach((function(e){!1===w[e]&&function(e){delete D[e]}(e)}));for(var R,N,T=y.slice();T.length>0;)if(l=T.pop(),i=S[l]){var M={},q=i.hot._disposeHandlers;for(a=0;a<q.length;a++)(n=q[a])(M);for(c[l]=M,i.hot.active=!1,delete S[l],delete h[l],a=0;a<i.children.length;a++){var F=S[i.children[a]];F&&((_=F.parents.indexOf(l))>=0&&F.parents.splice(_,1))}}for(l in h)if(Object.prototype.hasOwnProperty.call(h,l)&&(i=S[l]))for(N=h[l],a=0;a<N.length;a++)R=N[a],(_=i.children.indexOf(R))>=0&&i.children.splice(_,1);for(l in p("apply"),o=v,b)Object.prototype.hasOwnProperty.call(b,l)&&(e[l]=b[l]);var z=null;for(l in h)if(Object.prototype.hasOwnProperty.call(h,l)&&(i=S[l])){N=h[l];var L=[];for(r=0;r<N.length;r++)if(R=N[r],n=i.hot._acceptedDependencies[R]){if(-1!==L.indexOf(n))continue;L.push(n)}for(r=0;r<L.length;r++){n=L[r];try{n(N)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:l,dependencyId:N[r],error:e}),t.ignoreErrored||z||(z=e)}}}for(r=0;r<P.length;r++){var H=P[r];l=H.module,u=[l];try{A(l)}catch(e){if("function"==typeof H.errorHandler)try{H.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:l,error:n,originalError:e}),t.ignoreErrored||z||(z=n),z||(z=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:l,error:e}),t.ignoreErrored||z||(z=e)}}return z?(p("fail"),Promise.reject(z)):(p("idle"),new Promise((function(e){e(y)})))}var S={},D={0:0},C=[];function A(t){if(S[t])return S[t].exports;var n=S[t]={i:t,l:!1,exports:{},hot:s(t),parents:(l=u,u=[],l),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=S[e];if(!t)return A;var n=function(n){return t.hot.active?(S[n]?-1===S[n].parents.indexOf(e)&&S[n].parents.push(e):(u=[e],a=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),u=[]),A(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return A[e]},set:function(t){A[e]=t}}};for(var i in A)Object.prototype.hasOwnProperty.call(A,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(n,i,r(i));return n.e=function(e){return"ready"===f&&p("prepare"),b++,A.e(e).then(t,(function(e){throw t(),e}));function t(){b--,"prepare"===f&&(g[e]||k(e),0===b&&0===y&&j())}},n.t=function(e,t){return 1&t&&(e=n(e)),A.t(e,-2&t)},n}(t)),n.l=!0,n.exports}A.m=e,A.c=S,A.d=function(e,t,n){A.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},A.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},A.t=function(e,t){if(1&t&&(e=A(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(A.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)A.d(n,r,function(t){return e[t]}.bind(null,r));return n},A.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return A.d(t,"a",t),t},A.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},A.p="",A.h=function(){return o};var _=window.webpackJsonp=window.webpackJsonp||[],P=_.push.bind(_);_.push=t,_=_.slice();for(var R=0;R<_.length;R++)t(_[R]);var N=P;C.push([243,1]),n()}({138:function(e,t,n){(t=n(81)(!1)).push([e.i,".bp3-popover-wrapper{display:flex}.bp3-popover-target,span.bp3-popover-target{display:flex}\n",""]),e.exports=t},202:function(e){e.exports=JSON.parse('{"menu":{"simulations":"Simulations","consultants":"Consultants","administration":"Administration","myDetails":"My details","logOut":"Log out","administrationSubmenu":{"connections":"Energy connections","groups":"Company groups management","companies":"Companies management","contracts":"Company energy contracts","subscriptions":"Odot subscriptions","timeline":"Timeline"}},"searchHeader":{"searchBy":"Search by","companyName":"Company name:","vatNumber":"VAT Nr:","companyGroup":"Company group"}}')},243:function(e,t,n){n(244),e.exports=n(489)},441:function(e,t,n){var r=n(80),a=n(138);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1},o=r(a,i),c=a.locals?a.locals:{};a.locals||e.hot.accept(138,(function(){var t=n(138);"string"==typeof(t=t.__esModule?t.default:t)&&(t=[[e.i,t,""]]),o(t)})),e.hot.dispose((function(){o()})),e.exports=c},489:function(e,t,n){"use strict";n.r(t);n(430),n(431),n(432),n(440),n(441);var r=n(0),a=n.n(r),i=n(23),o=n.n(i),c=n(210),u=Object(r.createContext)(null);var l=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.apiUrl=t};var s=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var p=Object(r.createContext)(null);var h=n(151),m=n(202);h.a.init({initImmediate:!1,lng:"en",fallbackLng:"en",resources:{en:{translation:m}},interpolation:{escapeValue:!1}});var v=h.a,y=n(493),b=n(17);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var E=function e(){w(this,e),this.next=void 0,this.next=new O(this)},O=function e(t){w(this,e),this.previous=void 0,this.previous=t},k=function(){function e(t){w(this,e),this.next=null,this.previous=null,this.item=void 0,this.item=t}return x(e,[{key:"detachSelf",value:function(){if(!this.next&&!this.previous)throw new Error("node is not attached");this.next&&(this.next.previous=this.previous),this.previous&&(this.previous.next=this.next),this.next=null,this.previous=null}},{key:"attachAfter",value:function(e){if(this.next||this.previous)throw new Error("Node is inserted elsewhere");this.next=e.next,this.previous=e,e.next&&(e.next.previous=this),e.next=this}},{key:"attachBefore",value:function(e){if(!e.previous)throw new Error("no previous node found.");this.attachAfter(e.previous)}},{key:"isAttached",value:function(){return void 0!==this.next}}]),e}(),j=function(){function e(){w(this,e),this.head=void 0,this.tail=void 0,this.head=new E,this.tail=this.head.next}return x(e,[{key:"add",value:function(e){var t=new k(e);return t.attachAfter(this.tail.previous),t}},{key:"getItems",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"forEach",value:function(e){for(var t=this.head.next;t!==this.tail;){var n=t;if(e(n.item,n),!n.next)throw new Error("badly attached item found.");t=n.next}}},{key:"hasItems",value:function(){return this.head.next!==this.tail}},{key:"getLastItem",value:function(){if(!this.hasItems())throw new Error("no items in list.");return this.head.next}}]),e}();function I(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=new j,r=t?{item:t}:void 0;return{fire:function(t){e&&(r={item:t}),n.getItems().forEach((function(e){e(t)}))},subscribable:function(t){var a=n.add(t);return e&&void 0!==r&&t(r.item),{unsubscribe:function(){null!==a.previous&&a.detachSelf()}}}}}var S=I(!1),D=Object(r.createContext)({fire:S.fire,event:S.subscribable}),C=Object(r.createContext)(null);b.b.div.withConfig({displayName:"Modal__StyledModalContainer",componentId:"sc-171r9mz-0"})(["pointer-events:visible;background:#00000088;width:100%;height:100%;display:flex;align-items:center;justify-content:center;"]);var A=0,_=Object(r.createContext)({toaster:null});var P=n(1),R=n(205),N=n.n(R),T=n(65),M=n.n(T);function q(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function F(e){window.localStorage.setItem("recent",JSON.stringify(e))}function z(){var e=window.localStorage.getItem("recent");return null===e?[]:JSON.parse(e)}function L(e){var t=z(),n=t.findIndex((function(t){return t.fileId===e.fileId&&t.type===e.type}));n>=0&&t.splice(n,1),F([e].concat(q(t)))}function H(){return z()}function V(e){var t=z(),n=t.findIndex((function(t){return t.fileId===e.fileId&&t.type===e.type}));n>=0&&t.splice(n,1),F(t)}var B=n(8),W=n(7);function U(e,t){return null===e?Object(W.isFunction)(t)?t():t:e}var J=n(84),Y=n.n(J),G=regeneratorRuntime.mark(ee),K=regeneratorRuntime.mark(te);function X(e,t){return Y.a.minBy(e.filter((function(e){return e.date.isAfter(t)})),(function(e){return t.until(e.date,B.a.DAYS)}))}function Z(e,t){var n=Math.abs(e.until(t,B.a.DAYS)),r=Math.ceil(Math.max(Math.min(1.6*n,32),1));return t.plusDays(r)}function Q(e,t,n){if(null===n){!function(e){if(!e)throw new Error}(null===t);var r=X(e.scheduleOptions.explicitDates,e.addedOn);return void 0!==r?{date:r.date,item:e,existingEntry:r,scheduleIndex:0}:{date:e.addedOn.plusDays(1),item:e,scheduleIndex:0}}if(null===t){var a=X(e.scheduleOptions.explicitDates,n.date);return void 0!==a?{date:a.date,item:e,existingEntry:a,scheduleIndex:n.scheduleIndex+1}:{date:Z(e.addedOn,n.date),item:e,scheduleIndex:n.scheduleIndex+1}}var i=X(e.scheduleOptions.explicitDates,n.date);return void 0!==i?{date:i.date,item:e,existingEntry:i,scheduleIndex:n.scheduleIndex+1}:{date:Z(t.date,n.date),item:e,scheduleIndex:n.scheduleIndex+1}}function $(e,t,n){var r=Q(e,t,n);return void 0!==e.scheduleOptions.stopAfter&&r.date.isAfter(e.scheduleOptions.stopAfter)?null:r}function ee(e){var t,n,r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=null,n=null;case 2:if(null!==(r=$(e,n,t))){a.next=6;break}return a.abrupt("return");case 6:return a.next=8,r;case 8:n=t,t=r,a.next=2;break;case 12:case"end":return a.stop()}}),G)}function te(e){var t,n,r,a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=e.map((function(e){var t=ee(e),n=t.next();return{iterator:t,last:n}})),n=B.b.now();case 2:if(void 0!==(r=Y.a.minBy(t,(function(e){return void 0===e.last.value?1e7:n.until(e.last.value.date,B.a.DAYS)})))){i.next=6;break}return i.abrupt("return");case 6:if(!r.last.done){i.next=8;break}return i.abrupt("return");case 8:return a=r.iterator.next(),i.next=11,r.last.value;case 11:r.last=a,i.next=2;break;case 14:case"end":return i.stop()}}),K)}function ne(e,t){for(var n=[],r=0;r<t;r++){var a=e.next();if(a.done)return n;n.push(a.value)}return n}function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.next();if(r.done)return[];for(var a=[];;)if(a.push(r.value),(r=e.next()).done||"break"===t(r.value)){n&&a.push(r.value);break}return a}function ae(e){e.items.forEach((function(e){void 0===e.title&&(e.title=e.text,e.text=""),e.addedOn=B.b.parse(e.addedOn),void 0===e.scheduleOptions&&(e.scheduleOptions={explicitDates:e.rememberedDates}),e.scheduleOptions.stopAfter&&(e.scheduleOptions.stopAfter=B.b.parse(e.scheduleOptions.stopAfter)),e.scheduleOptions.explicitDates.forEach((function(e){e.date=B.b.parse(e.date)}))}))}function ie(e,t){var n=e.items.find((function(e){return e.id===t}));if(void 0===n)throw new Error("item not found: "+t);return n}function oe(e,t){if(e.lastEventId++,"create-item"===t.type){var n=e.nextId++;e.items.push({addedOn:t.createdOn,id:n,title:t.title,text:t.data,scheduleOptions:{explicitDates:[]}})}else if("delete-item"===t.type){var r=e.items.findIndex((function(e){return e.id===t.itemId}));if(r<0)throw new Error("item with id ".concat(t.itemId," not found."));e.items.splice(r,1)}else if("mark-done"===t.type){var a=ie(e,t.itemId),i=a.scheduleOptions.explicitDates.find((function(e){return e.date.isEqual(t.scheduleDate)}));i?i.done=t.isDone:a.scheduleOptions.explicitDates.push({date:t.scheduleDate,done:t.isDone})}else if("set-file-name"===t.type)e.fileName=t.name;else if("archive-item"===t.type){var o=ie(e,t.itemId);null===t.lastReminderDate?o.scheduleOptions.stopAfter=void 0:o.scheduleOptions.stopAfter=t.lastReminderDate}else if("set-learn-date"===t.type){ie(e,t.itemId).addedOn=t.date}else if("set-revise-date"===t.type){var c=ie(e,t.itemId),u=ne(ee(c),t.scheduleIndex+2),l=t.scheduleIndex>0?u[t.scheduleIndex-1].date:c.addedOn;if(console.log(t.date),!t.date.isAfter(l))throw new Error("cannot reorder events");var s=u[t.scheduleIndex+1];if(u.length>t.scheduleIndex+1&&void 0!==u[t.scheduleIndex+1].existingEntry&&!s.date.isAfter(t.date))throw new Error("cannot reorder events");var d=c.scheduleOptions.explicitDates.find((function(e){return e.date.isEqual(t.date)}));d?d.date=t.date:c.scheduleOptions.explicitDates.push({date:t.date,done:!1})}else if("delete-entry"===t.type){var f=ie(e,t.itemId),p=f.scheduleOptions.explicitDates.findIndex((function(e){return e.date.isEqual(t.scheduleDate)}));if(p<0)throw new Error;f.scheduleOptions.explicitDates.splice(p,1)}else if("set-title"===t.type){ie(e,t.itemId).title=t.title}else if("set-text"===t.type){ie(e,t.itemId).text=t.text}else!function(e){throw new Error("should be unreachable.")}()}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e){return!!e&&"string"==typeof e.type}var de=Object(r.createContext)(void 0),fe=Object(r.createContext)({openFile:function(){return Promise.resolve()},saveToDrive:function(){return Promise.resolve("ok")}});function pe(){return Object(r.useContext)(de)}function he(){var e=Object(r.useContext)(de);return{push:function(t){var n=e.getData();if(Array.isArray(t)){var r=!0,a=!1,i=void 0;try{for(var o,c=t[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){oe(n,o.value)}}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}}else oe(n,t);if(!se(e))throw new Error;e.setData(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n))}}}function me(e){var t=Object(r.useContext)(de),n=ce(Object(r.useState)(t.getData()),2),a=n[0],i=n[1];return Object(r.useEffect)((function(){var n=t.onDataChanged((function(t){var n=t.newData;i(n),e&&e(n)}));return function(){n.unsubscribe()}}),[t]),a}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t,n){return t&&ye(e.prototype,t),n&&ye(e,n),e}function ge(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function xe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){ge(i,r,a,o,c,"next",e)}function c(e){ge(i,r,a,o,c,"throw",e)}o(void 0)}))}}var we=!1;function Ee(e){return we?Promise.resolve():new Promise((function(t){gapi.load(e,(function(){we=!0,t()}))}))}var Oe=!1;function ke(e){return new Promise((function(t){gapi.auth.authorize({client_id:"44725971814-4jtha4r70ort05q844tjr1g50h6ejpsm.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/drive.file",immediate:e},(function(e){t(e)}))}))}function je(){return Ie.apply(this,arguments)}function Ie(){return(Ie=xe(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(!0);case 2:if(!(t=e.sent).error){e.next=7;break}return e.next=6,ke(!1);case 6:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e){return De.apply(this,arguments)}function De(){return(De=xe(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new google.picker.DocsView(google.picker.ViewId.FOLDERS).setParent("root").setIncludeFolders(!0).setMimeTypes("application/vnd.google-apps.folder").setSelectFolderEnabled(!0),e.abrupt("return",new Promise((function(e){(new google.picker.PickerBuilder).addView(n).setOAuthToken(t).setDeveloperKey("AIzaSyAfqmSa7zUxV3O9YVmfFYqhgIe65nMDv7g").setAppId("quickstart-1574022526886").setCallback((function(t){t.action!==google.picker.Action.PICKED&&t.action!==google.picker.Action.CANCEL||e(t)})).build().setVisible(!0)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=xe(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new google.picker.DocsView(google.picker.ViewId.DOCS).setIncludeFolders(!0).setParent("root"),e.abrupt("return",new Promise((function(e){(new google.picker.PickerBuilder).addView(n).setOAuthToken(t).setDeveloperKey("AIzaSyAfqmSa7zUxV3O9YVmfFYqhgIe65nMDv7g").setAppId("quickstart-1574022526886").setCallback((function(t){t.action!==google.picker.Action.PICKED&&t.action!==google.picker.Action.CANCEL||e(t)})).build().setVisible(!0)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e,t,n){return Pe.apply(this,arguments)}function Pe(){return(Pe=xe(regeneratorRuntime.mark((function e(t,n,r){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gapi.client.drive.files.create({resource:{mimeType:"text/plain",parents:t?[t]:[],name:r},oauth_token:n});case 2:if(200!==(a=e.sent).status){e.next=6;break}return i=a.result,e.abrupt("return",i.id);case 6:return e.abrupt("return",void 0);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e,t,n){return Ne.apply(this,arguments)}function Ne(){return(Ne=xe(regeneratorRuntime.mark((function e(t,n,r){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={name:r},i={Authorization:"Bearer "+n},e.next=4,gapi.client.request({path:"https://www.googleapis.com/drive/v3/files/".concat(t),method:"PATCH",headers:i,body:a});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e,t){return Me.apply(this,arguments)}function Me(){return(Me=xe(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={Authorization:"Bearer "+n},e.next=3,fetch("https://www.googleapis.com/drive/v3/files/".concat(t,"?fields=name,version"),{method:"GET",headers:new Headers(r)});case 3:if((a=e.sent).ok){e.next=6;break}return e.abrupt("return","bad-response");case 6:return e.abrupt("return",a.json());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(e,t){return Fe.apply(this,arguments)}function Fe(){return(Fe=xe(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={Authorization:"Bearer "+n},e.next=3,fetch("https://www.googleapis.com/drive/v3/files/".concat(t,"?alt=media"),{method:"GET",headers:new Headers(r)});case 3:if((a=e.sent).ok){e.next=6;break}return e.abrupt("return","bad-response");case 6:return e.abrupt("return",a.json());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(e,t,n){return Le.apply(this,arguments)}function Le(){return(Le=xe(regeneratorRuntime.mark((function e(t,n,r){var a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify(r),i={Authorization:"Bearer "+n},e.next=4,fetch("https://www.googleapis.com/upload/drive/v3/files/".concat(t,"?fields=version"),{method:"PATCH",headers:new Headers(i),body:a});case 4:if((o=e.sent).ok){e.next=7;break}return e.abrupt("return","bad-response");case 7:return e.abrupt("return",o.json());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var He=function(){function e(t,n,r,a){ve(this,e),this._fileId=t,this._token=n,this.data=r,this._fileVersion=a,this._onDataChanged=I(),this._onStatusChanged=I(!0,{newStatus:"saved"}),this.onDataChanged=this._onDataChanged.subscribable,this.onStatusChanged=this._onStatusChanged.subscribable,this.type="gdrive",this.savePromise=null,this.lastScheduledSave={cancel:!1},this.name="",this.name=r.fileName,this._onDataChanged.fire({newData:r})}var t,n;return be(e,[{key:"getData",value:function(){return this.data}},{key:"setData",value:function(e){this.data=e,this.setStatus("dirty"),this._onDataChanged.fire({newData:e}),this.scheduleSave()}},{key:"save",value:(n=xe(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=23;break}if(!this.savePromise){e.next=4;break}return e.next=4,this.savePromise;case 4:return this.setStatus("saving"),e.next=7,this.doSave({cancel:!1},!1);case 7:if("error"!==(n=e.sent)){e.next=12;break}this.setStatus("error"),e.next=21;break;case 12:if("conflict"!==n){e.next=16;break}this.setStatus("later-version-found"),e.next=21;break;case 16:if("canceled"!==n){e.next=20;break}return e.abrupt("return");case 20:this.setStatus("saved");case 21:e.next=24;break;case 23:this.scheduleSave();case 24:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getFileId",value:function(){return this._fileId}},{key:"setStatus",value:function(e){this._onStatusChanged.fire({newStatus:e})}},{key:"doSave",value:(t=xe(regeneratorRuntime.mark((function e(t,n){var r,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.data,this.name===r.fileName){e.next=7;break}return e.next=4,Re(this._fileId,this._token,r.fileName);case 4:if(!t.cancel){e.next=6;break}return e.abrupt("return","canceled");case 6:this.name=r.fileName;case 7:if(!n){e.next=18;break}return e.next=10,Te(this._fileId,this._token);case 10:if(a=e.sent,!t.cancel){e.next=13;break}return e.abrupt("return","canceled");case 13:if("bad-response"!==a){e.next=15;break}return e.abrupt("return","bad-response");case 15:if(!(parseInt(a.version,10)>this._fileVersion)){e.next=18;break}return e.abrupt("return","conflict");case 18:return e.next=20,ze(this._fileId,this._token,r);case 20:if(i=e.sent,!t.cancel){e.next=23;break}return e.abrupt("return","canceled");case 23:if("bad-response"!==i){e.next=25;break}return e.abrupt("return","error");case 25:return o=parseInt(i.version,10),this._fileVersion=o+1,e.abrupt("return","ok");case 28:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"scheduleSave",value:function(){var e=this;this.lastScheduledSave.cancel=!0;var t={cancel:!1};this.lastScheduledSave=t,window.setTimeout(xe(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.savePromise){n.next=3;break}return n.next=3,e.savePromise;case 3:if(!t.cancel){n.next=5;break}return n.abrupt("return");case 5:e.savePromise=new Promise(function(){var n=xe(regeneratorRuntime.mark((function n(r){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e.setStatus("saving"),n.next=4,e.doSave(t,!0);case 4:if("error"!==(a=n.sent)){n.next=9;break}e.setStatus("error"),n.next=18;break;case 9:if("conflict"!==a){n.next=13;break}e.setStatus("later-version-found"),n.next=18;break;case 13:if("canceled"!==a){n.next=17;break}return n.abrupt("return");case 17:e.setStatus("saved");case 18:return n.prev=18,r(),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[0,,18,21]])})));return function(e){return n.apply(this,arguments)}}());case 6:case"end":return n.stop()}}),n)}))),1e3)}}]),e}(),Ve=function(){function e(){ve(this,e)}var t,n,r,a;return be(e,[{key:"_loadAndAuthorize",value:(a=xe(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("client:auth:picker");case 2:return e.next=4,Oe?Promise.resolve():gapi.client.init({apiKey:"AIzaSyAfqmSa7zUxV3O9YVmfFYqhgIe65nMDv7g",clientId:"44725971814-4jtha4r70ort05q844tjr1g50h6ejpsm.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/drive.file",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"]}).then((function(){Oe=!0}));case 4:return e.next=6,je();case 6:if(!(t=e.sent).error){e.next=9;break}return e.abrupt("return","unauthorized");case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"open",value:(r=xe(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._loadAndAuthorize();case 2:if("unauthorized"!==(t=e.sent)){e.next=5;break}return e.abrupt("return","unauthorized");case 5:return e.next=7,Ce(t.access_token);case 7:if((n=e.sent).action!==google.picker.Action.CANCEL){e.next=10;break}return e.abrupt("return","pick-canceled");case 10:return r=n.docs[0].id,e.next=13,Te(r,t.access_token);case 13:if("bad-response"!==(a=e.sent)){e.next=16;break}return e.abrupt("return",a);case 16:return i=a.name,e.next=19,qe(r,t.access_token);case 19:if("bad-response"!==(o=e.sent)){e.next=22;break}return e.abrupt("return",o);case 22:return ae(o),o.fileName=i,e.abrupt("return",{store:new He(r,t.access_token,o,parseInt(a.version,10)),file:{type:"gdrive",fileId:r,name:i}});case 25:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"openRecent",value:(n=xe(regeneratorRuntime.mark((function e(t){var n,r,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._loadAndAuthorize();case 2:if("unauthorized"!==(n=e.sent)){e.next=5;break}return e.abrupt("return","unauthorized");case 5:return r=t.fileId,e.next=8,Te(r,n.access_token);case 8:if("bad-response"!==(a=e.sent)){e.next=11;break}return e.abrupt("return",a);case 11:return i=a.name,e.next=14,qe(r,n.access_token);case 14:if("bad-response"!==(o=e.sent)){e.next=17;break}return e.abrupt("return",o);case 17:return ae(o),o.fileName=i,e.abrupt("return",new He(r,n.access_token,o,parseInt(a.version,10)));case 20:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"save",value:(t=xe(regeneratorRuntime.mark((function e(t,n){var r,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._loadAndAuthorize();case 2:if("unauthorized"!==(r=e.sent)){e.next=5;break}return e.abrupt("return","unauthorized");case 5:if(n){e.next=12;break}return e.next=8,Se(r.access_token);case 8:if((i=e.sent).action!==google.picker.Action.CANCEL){e.next=11;break}return e.abrupt("return","pick-canceled");case 11:a=i.docs[0].id;case 12:return e.next=14,_e(a,r.access_token,t.fileName);case 14:if(void 0!==(o=e.sent)){e.next=17;break}return e.abrupt("return","cannot-create-file");case 17:return e.next=19,ze(o,r.access_token,t);case 19:return e.abrupt("return",{store:new He(o,r.access_token,t,0),file:{type:"gdrive",fileId:o,name:t.fileName}});case 20:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}();function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e){var t=JSON.stringify(e);window.localStorage.setItem("data-cache",t)}var Ue=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._onDataChanged=I(),this._onStatusChanged=I(!0,{newStatus:"saved"}),this.onDataChanged=this._onDataChanged.subscribable,this.onStatusChanged=this._onStatusChanged.subscribable,this.type="ls",this.data=void 0,this.data=(t=window.localStorage.getItem("data-cache"),ae(n=null===t?{items:[],nextId:0,lastEventId:-1,fileName:"My remember list"}:JSON.parse(t)),n),this._onDataChanged.fire({newData:this.data})}var t,n,r;return t=e,(n=[{key:"getData",value:function(){return this.data}},{key:"setData",value:function(e){this.data=e,this._onDataChanged.fire({newData:e}),We(e)}},{key:"save",value:function(){return We(this.data),Promise.resolve()}},{key:"getFileId",value:function(){return""}}])&&Be(t.prototype,n),r&&Be(t,r),e}(),Je=(Object(b.a)(["display:flex;flex-direction:row;"]),Object(b.a)(["display:flex;flex-direction:column;"]),b.b.div.withConfig({displayName:"LayoutStyles__FlexFiller",componentId:"sc-1f3rlvd-0"})(["flex:1 1 0;"])),Ye=b.b.div.withConfig({displayName:"LayoutStyles__FlexCenteredRow",componentId:"sc-1f3rlvd-1"})(["display:flex;align-items:center;"]),Ge=b.b.div.withConfig({displayName:"LayoutStyles__FlexColumn",componentId:"sc-1f3rlvd-2"})(["display:flex;flex-direction:column;"]),Ke=b.b.div.withConfig({displayName:"LayoutStyles__AbsoluteFiller",componentId:"sc-1f3rlvd-3"})(["position:absolute;top:0;bottom:0;left:0;right:0;"]),Xe={display:"flex",alignItems:"center",justifyContent:"center"},Ze=n(103),Qe=n(24),$e="102",et="5dd7b3b";var tt,nt={path:tt="/items",route:function(e){return{exact:!0,path:tt,render:function(){return e()}}}},rt=function(e){return e.startsWith("/today")},at=function(e){return null===e?"/today":"/today/"+e},it=function(e){return{exact:!0,path:"/today/:itemIndex?",render:function(t){var n=t.match.params.itemIndex;if("string"!=typeof n||""===n.trim())return e({itemIndex:null});var r=parseInt(n,10);return isNaN(r)?a.a.createElement("div",null,"Invalid item id: ",t.match.params.itemId):e({itemIndex:r})}}},ot=function(e){return"/items/"+e.toString()},ct=function(e){return{exact:!0,path:"/items/:itemId",render:function(t){var n=parseInt(t.match.params.itemId,10);return isNaN(n)?a.a.createElement("div",null,"Invalid item id: ",t.match.params.itemId):e({itemId:n})}}};var ut=function(e){return e?"/calendar/"+e.toString():"/calendar"},lt=function(e){return{exact:!0,path:"/calendar/:month?",render:function(t){var n,r=t.match.params.month;if("string"!=typeof r||""===r.trim())return e({month:null});try{n=B.d.parse(r)}catch(e){return a.a.createElement("div",null,"Invalid month: ",r)}return e({month:n})}}};function st(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function dt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){st(i,r,a,o,c,"next",e)}function c(e){st(i,r,a,o,c,"throw",e)}o(void 0)}))}}function ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function pt(e){var t=e.state,n=ft(Object(r.useState)(!1),2),i=n[0],o=n[1],c=pe(),u=Object(r.useContext)(fe);switch(t){case"disconnected":return a.a.createElement(y.n,{icon:"offline"});case"dirty":return a.a.createElement(y.n,{icon:"changes"});case"offline":return a.a.createElement(y.n,{icon:"offline"});case"error":return a.a.createElement(y.n,{icon:"error"});case"saving":return a.a.createElement(y.w,{size:14});case"saved":return a.a.createElement(y.n,{icon:"saved"});case"later-version-found":return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,"File outdated."),a.a.createElement(y.a,{onClick:function(){se(c)&&c.save(!0)}},"Overwrite"),a.a.createElement(y.a,{loading:i,onClick:dt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,u.openFile({name:c.getData().fileName,type:"gdrive",fileId:c.getFileId()});case 3:o(!1);case 4:case"end":return e.stop()}}),e)})))},"Reload"))}}function ht(){var e=ft(Object(r.useState)("offline"),2),t=e[0],n=e[1],i=pe();return Object(r.useEffect)((function(){if(se(i)){var e=i.onStatusChanged((function(e){n(e.newStatus)}));return function(){e.unsubscribe()}}}),[i]),a.a.createElement(Ye,{style:{marginLeft:"10px"}},a.a.createElement(pt,{state:t}),a.a.createElement("div",null,se(i)?"Saving to "+function(e){switch(e){case"gdrive":return"Google Drive";case"ls":return"local storage"}}(i.type):""))}function mt(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function vt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){mt(i,r,a,o,c,"next",e)}function c(e){mt(i,r,a,o,c,"throw",e)}o(void 0)}))}}function yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function bt(){var e=yt(Object(r.useState)(),2),t=e[0],n=e[1],i=yt(Object(r.useState)(1e7),2),o=i[0],c=i[1],u=yt(Object(r.useState)(""),2),l=u[0],s=u[1],d=yt(Object(r.useState)(!1),2),f=d[0],p=d[1],h=yt(Object(r.useState)("idle"),2),m=h[0],v=h[1],b=Object(r.useContext)(fe),g=pe();Object(r.useEffect)((function(){var e=window;e.onWbAccept?p(!0):e.onWbShouldRefresh((function(){p(!0)}))}),[]),me((function(e){s(e.fileName)}));var x=he(),w=Object(Qe.g)(),E=w.location.pathname,O="";E===nt.path?O="items":E.startsWith("/calendar")?O="calendar":rt(E)&&(O="today");var k=o<1400;function j(e){n(!1),w.push(e)}function I(){return(I=vt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v("saving"),e.prev=1,e.next=4,b.saveToDrive();case 4:t=e.sent,v("error"===t?"error":"idle"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),window.console.log(e.t0),v("error");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return a.a.createElement(a.a.Fragment,null,a.a.createElement(y.v,{onResize:function(e){return c(e[e.length-1].contentRect.width)}},a.a.createElement(y.r,null,a.a.createElement(y.s,{align:"center"},a.a.createElement(y.a,{style:{marginRight:"10px"},onClick:function(){return n(!t)}},"☰"),!k&&a.a.createElement(a.a.Fragment,null,a.a.createElement(y.z,{animate:!0,large:!0,onChange:function(e){j("/"+e)},selectedTabId:O},a.a.createElement(y.y,{title:"Remember List",id:"today"}),a.a.createElement(y.y,{title:"Items",id:"items"}),a.a.createElement(y.y,{title:"Calendar",id:"calendar"})),a.a.createElement("div",{style:{width:"10px"}}),a.a.createElement(y.g,{key:l,minWidth:150,defaultValue:l,onConfirm:function(e){x.push({type:"set-file-name",name:e})}})),a.a.createElement(ht,null),a.a.createElement(Je,null),f&&a.a.createElement(y.a,{onClick:function(){window.onWbAccept()},minimal:!0},"Switch to new version"),"v. ",$e," (",et,")"))),a.a.createElement(y.f,{title:"Spaced repetition app",isOpen:t,onClose:function(){return n(!1)},position:"left",size:y.f.SIZE_LARGE},a.a.createElement(y.p,{large:!0},a.a.createElement(y.q,{text:"Remember list",onClick:function(){return j(at(null))}}),a.a.createElement(y.q,{text:"Items",onClick:function(){return j(nt.path)}}),a.a.createElement(y.q,{text:"Calendar",onClick:function(){return j(ut())}}),"ls"===g.type&&a.a.createElement(a.a.Fragment,null,"error"===m&&a.a.createElement("div",null,"Error saving file"),a.a.createElement(y.a,{loading:"saving"===m,icon:a.a.createElement("img",{style:{width:"16px",height:"16px"},src:M.a}),onClick:function(){return I.apply(this,arguments)}},"Save to google drive")))))}b.b.div.withConfig({displayName:"Styles__StyledDropDown",componentId:"yh5bts-0"})(["background:white;box-shadow:1px 1px 4px 2px rgba(0,0,0,0.3);pointer-events:all;"]);var gt=Object(b.a)(["min-height:30px;background:white;outline:none;color:",";padding:4px 8px;border:1px solid ",";border-radius:3px;transition:border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out;&:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 2px rgba(0,123,255,0.25);}&.error{border:1px solid red;}"],"#696969","#696969"),xt=(b.b.textarea.withConfig({displayName:"Styles__StyledTextArea",componentId:"yh5bts-1"})(["",""],gt),b.b.input.withConfig({displayName:"Styles__StyledTextInput",componentId:"yh5bts-2"})(["",""],gt),Object(b.a)(["border-radius:5px;transition:background-color 0.15s;cursor:pointer;&:hover{background-color:#eeeeee;}"]),b.b.div.withConfig({displayName:"Styles__StyledItem",componentId:"yh5bts-3"})(["border-radius:2px;box-shadow:0 1px 5px rgba(0,0,0,0.46);margin:4px;padding:4px;background:white;display:grid;grid-row-gap:12px;"])),wt=b.b.div.withConfig({displayName:"Styles__StyledLink",componentId:"yh5bts-4"})(["cursor:pointer;:hover{text-decoration:underline;}"]),Et=b.b.div.withConfig({displayName:"Styles__StyleMenuInput",componentId:"yh5bts-5"})(["display:inline-block;padding:0px 7px 9px;display:flex;flex-direction:row;.bp3-numeric-input{margin-right:5px;}"]);function Ot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return"string"==typeof e?e:e[0]?e[1]:""})).join(" ")}function kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var jt=Object(b.b)(wt).withConfig({displayName:"Calendar__StyledItemTitle",componentId:"sg6f1j-0"})(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:4px;padding:2px;&.learned{text-decoration:underline;}&.highlighted{box-shadow:0 1px 5px rgba(0,0,0,0.46);background:#e9ed9f;&.learned{background:#c2ed9f;}}"]);function It(e){var t=e.selectedMonth,n=kt(Object(r.useState)(U(t,(function(){return B.d.now()}))),2),i=n[0],o=n[1],c=function(e){for(var t=e.lengthOfMonth(),n=e.atDay(1).dayOfWeek().ordinal(),r=n+t,a=Math.ceil(r/7),i=[],o=e.atDay(1).minusDays(n),c=0;c<a;c++){for(var u=[],l=0;l<7;l++)u.push({date:o}),o=o.plusDays(1);i.push(u)}return i}(i),u=kt(Object(r.useState)([]),2),l=u[0],s=u[1],d=kt(Object(r.useState)(null),2),f=d[0],p=d[1],h=me(),m=Object(Qe.g)();function v(e){e.equals(B.d.now())?m.push(ut()):m.push(ut(e))}Object(r.useEffect)((function(){o(U(t,(function(){return B.d.now()})))}),[t]),Object(r.useEffect)((function(){if(null!==h){var e=c[0][0].date,t=c[c.length-1],n=t[t.length-1].date,r=re(te(h.items),(function(e){return e.date.isAfter(n)?"break":"continue"})).filter((function(t){return!t.date.isBefore(e)}));s(r)}else s([])}),[i,h]);var b=B.b.now();return null===h?a.a.createElement("div",null,"No file loaded."):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{display:"flex",alignItems:"center",margin:"10px",alignSelf:"center"}},a.a.createElement(y.a,{onClick:function(){var e=i.minusMonths(1);v(e),o(e)}},"<"),a.a.createElement("div",{style:{width:"200px",display:"flex",justifyContent:"center"}},i.month().name()," ",i.year()),a.a.createElement(y.a,{onClick:function(){var e=i.plusMonths(1);v(e),o(e)}},">")),a.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:"1 1 0",background:"white"}},c.map((function(e){return a.a.createElement("div",{key:e[0].date.toString(),style:{display:"flex",flex:"1 1 0",borderBottom:"1px solid #ccc"}},e.map((function(e){var t=h.items.filter((function(t){return t.addedOn.isEqual(e.date)})),n=l.filter((function(t){return t.date.equals(e.date)}));return a.a.createElement("div",{key:e.date.toString(),style:{flex:"1 1 0",display:"flex",flexDirection:"column",borderRight:"1px solid #ccc",color:e.date.month().equals(i.month())?void 0:"#ccc",padding:"5px",boxShadow:b.isEqual(e.date)?"inset 0 0 0 1px ".concat("#f2720a",", inset 0 -1px 0 ").concat("#f2720a"):void 0}},a.a.createElement("div",{style:{alignSelf:"center",fontWeight:"bold"}},e.date.dayOfMonth()),t.map((function(e){var t=e.id===f;return a.a.createElement(jt,{onClick:function(){m.push(ot(e.id))},key:e.id,className:Ot("learned",[t,"highlighted"]),onMouseOver:function(){p(e.id)},onMouseLeave:function(){p(null)}},e.title)})),n.map((function(e){var t=e.item.id===f;return a.a.createElement(jt,{onClick:function(){m.push(ot(e.item.id))},key:e.item.id,className:Ot([t,"highlighted"]),onMouseOver:function(){p(e.item.id)},onMouseLeave:function(){p(null)}},e.item.title)})))})))}))))}var St=n(18),Dt=n(494);function Ct(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function At(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var _t=Object(b.b)(xt).withConfig({displayName:"ItemDetails__StyledScheduledItem",componentId:"sc-167uriv-0"})(["max-width:300px;border:1px solid black;&.generated{border:1px dashed black;}"]);function Pt(e){var t=e.itemId,n=he(),i=At(Object(r.useState)(null),2),o=i[0],c=i[1],u=At(Object(r.useState)(null),2),l=u[0],s=u[1],d=At(Object(r.useState)([]),2),f=d[0],p=d[1],h=At(Object(r.useState)(0),2),m=h[0],v=h[1];return me((function(e){var n=e.items.find((function(e){return e.id===t}));n&&(s(n),v((function(e){return e+1})))})),Object(r.useEffect)((function(){if(null!==l){var e=ee(l);c(e);var t=ne(e,20);p(t)}}),[l,m]),null===l?a.a.createElement("div",null,"Loading..."):a.a.createElement("div",null,a.a.createElement(xt,null,a.a.createElement(y.g,{placeholder:"Click to edit title",multiline:!0,defaultValue:l.title,onConfirm:function(e){return n.push({type:"set-title",itemId:l.id,title:e})}}),a.a.createElement(y.g,{placeholder:"Click to edit text",multiline:!0,defaultValue:l.text,onConfirm:function(e){return n.push({type:"set-text",itemId:l.id,text:e})}}),a.a.createElement(Dt.a,{dayPickerProps:{firstDayOfWeek:1},popoverProps:{position:St.a.BOTTOM},formatDate:function(e){return e.toDateString()},parseDate:function(e){return new Date(Date.parse(e))},maxDate:new Date(2100,1),value:Object(B.e)(l.addedOn.atStartOfDay()).toDate(),onChange:function(e){return n.push({type:"set-learn-date",itemId:l.id,date:Object(B.f)(e).query(B.c.localDate())})}})),f.map((function(e){return a.a.createElement(_t,{key:e.date.toString(),className:Ot([!e.existingEntry,"generated"])},e.existingEntry&&a.a.createElement(wt,{onClick:function(){n.push({type:"delete-entry",itemId:l.id,scheduleDate:e.date})}},"remove entry"),a.a.createElement(Dt.a,{dayPickerProps:{firstDayOfWeek:1},popoverProps:{position:St.a.BOTTOM},formatDate:function(e){return e.toDateString()},parseDate:function(e){return new Date(Date.parse(e))},maxDate:new Date(2100,1),value:Object(B.e)(e.date.atStartOfDay()).toDate(),onChange:function(t,r){r&&(console.log(t),n.push({type:"set-revise-date",itemId:l.id,date:Object(B.f)(t).query(B.c.localDate()),scheduleIndex:e.scheduleIndex}))}}),a.a.createElement(y.x,{checked:!(!e.existingEntry||!e.existingEntry.done),onChange:function(){n.push({type:"mark-done",scheduleDate:e.date,isDone:!(e.existingEntry&&e.existingEntry.done),itemId:e.item.id})}},"Done"))})),a.a.createElement(y.a,{onClick:function(){if(null!==o){var e=ne(o,10);p([].concat(Ct(f),Ct(e)))}}},"show more..."))}function Rt(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function Nt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Rt(i,r,a,o,c,"next",e)}function c(e){Rt(i,r,a,o,c,"throw",e)}o(void 0)}))}}function Tt(e){var t=e.item,n=he();return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{display:"grid",gridGap:"4px",gridAutoFlow:"column"}},a.a.createElement(y.a,{onClick:Nt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("are you sure? this will delete item completely. you can archive it instead.")){e.next=2;break}return e.abrupt("return");case 2:n.push({type:"delete-item",itemId:t.id});case 3:case"end":return e.stop()}}),e)}))),icon:"trash"},"Delete"),a.a.createElement(y.a,{onClick:Nt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.push({type:"archive-item",itemId:t.id,lastReminderDate:B.b.now()});case 1:case"end":return e.stop()}}),e)}))),icon:"archive"},"Archive")),t.scheduleOptions.stopAfter&&a.a.createElement(Ye,null,a.a.createElement("div",null,"archived after: ",t.scheduleOptions.stopAfter.toString()),a.a.createElement(y.a,{large:!0,icon:"unarchive",onClick:function(){n.push({type:"archive-item",itemId:t.id,lastReminderDate:null})}})))}function Mt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ft(){var e=qt(Object(r.useState)(""),2),t=e[0],n=e[1],i=qt(Object(r.useState)(""),2),o=i[0],c=i[1],u=qt(Object(r.useState)([]),2),l=u[0],s=u[1],d=Object(Qe.g)(),f=qt(Object(r.useState)(""),2),p=f[0],h=f[1];me((function(e){var t=Mt(e.items).sort((function(e,t){return e.addedOn.isAfter(t.addedOn)?-1:e.addedOn.isEqual(t.addedOn)?0:1}));s(t)}));var m=he();return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{margin:"4px"}},a.a.createElement(y.o,{large:!0,leftIcon:"search",value:p,onChange:function(e){return h(e.target.value)}})),a.a.createElement(xt,{style:{display:"flex",flexDirection:"column",alignItems:"stretch"}},a.a.createElement(y.o,{style:{marginBottom:"4px"},placeholder:"Title",value:t,onChange:function(e){return n(e.target.value)}}),a.a.createElement(y.A,{placeholder:"Text",value:o,onChange:function(e){return c(e.target.value)}}),a.a.createElement(y.a,{onClick:function(){m.push({type:"create-item",title:t,data:o,createdOn:B.b.now()}),n(""),c("")}},"Add")),l.filter((function(e){return e.title.includes(p)||e.text.includes(p)})).map((function(e){return a.a.createElement(y.c,{key:e.id,elevation:2,style:{margin:"4px"}},a.a.createElement(Dt.a,{dayPickerProps:{firstDayOfWeek:1},popoverProps:{position:"bottom"},formatDate:function(e){return e.toDateString()},parseDate:function(e){return new Date(Date.parse(e))},maxDate:new Date(2100,1),value:Object(B.e)(e.addedOn.atStartOfDay()).toDate(),onChange:function(t){return m.push({type:"set-learn-date",itemId:e.id,date:Object(B.f)(t).query(B.c.localDate())})}}),a.a.createElement(wt,{style:{fontWeight:"bold"},onClick:function(){d.push("/items/"+e.id)}},e.title),a.a.createElement("div",{style:{whiteSpace:"pre-line"}},e.text),a.a.createElement(Tt,{item:e}))})))}var zt=n(198);function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Bt(e){var t,n=U(e.itemIndex,0),i=Vt(Object(r.useState)(),2),o=i[0],c=i[1],u=Vt(Object(r.useState)([]),2),l=u[0],s=u[1],d=Vt(Object(r.useState)("archived"),2),f=d[0],p=d[1],h=Vt(Object(r.useState)(!1),2),m=h[0],v=h[1],b=Vt(Object(r.useState)(0),2),g=b[0],x=b[1],w=Object(Qe.g)(),E=B.b.now(),O=he(),k=(t=Object(r.useContext)(_),{addText:function(e){if(null===t.toaster)throw new Error("missing context");t.toaster.show({message:e},(A++).toString())},add:function(e){if(null===t.toaster)throw new Error("missing context");t.toaster.show(e,(A++).toString())}}),j=Object(r.useContext)(D);function I(){w.push(at(Math.max(n-1,0)))}function S(){w.push(at(Math.min(n+1,l.length-1)))}if(Object(r.useEffect)((function(){if(n>l.length-1)p("archived");else{var e=re(ee(l[n].item),(function(e){return e.date.isAfter(E)?"break":"continue"}),!0),t=e[e.length-1];t.date.isAfter(E)?p(t):p("archived")}}),[l,n]),Object(r.useEffect)((function(){var e=l[n];e&&c(e)}),[l,n]),me((function(e){var t=re(te(e.items),(function(e){return e.date.isAfter(E)?"break":"continue"})).filter((function(e){return e.date.isEqual(E)||!e.existingEntry||!e.existingEntry.done})),n=Y.a.sortBy(t,(function(e){return e.item.id}));n.reverse(),s(n)})),Object(r.useEffect)((function(){var e=j.event((function(e){var t=e.event;"ArrowLeft"===t.key&&(I(),t.stopPropagation()),"ArrowRight"===t.key&&(S(),t.stopPropagation())}));return function(){e.unsubscribe()}}),[j,l,n]),0===l.length)return a.a.createElement(y.i,{style:{alignSelf:"center"}},"Nothing to remember today :(");if(!o)return a.a.createElement("div",null,"Invalid item.");var C,P=o.existingEntry&&o.existingEntry.done,R="archived"===f?"archived":E.until(f.date,B.a.DAYS),N=P?"archived"===R?"Item is archived":"Next reminder in "+R+" days":"archived"===R?"Mark done and do not remind (item archived)":"Mark done and remind in "+R+" days",T=l.filter((function(e){return e.date.isBefore(E)})).length,M=l.filter((function(e){return!e.existingEntry||!e.existingEntry.done})).length,q=M>0?" (".concat(M," to go; ").concat(T," debt)"):a.a.createElement(y.n,{style:{marginLeft:"10px"},icon:"tick-circle",intent:"success"});return a.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:"1 1 auto",padding:"6px"}},a.a.createElement("div",{style:{display:"flex",alignItems:"center",alignSelf:"center"}},a.a.createElement(y.a,{large:!0,disabled:n<=0,style:{width:"30px"},icon:"chevron-left",onClick:function(){return I()}}),a.a.createElement("div",{style:{margin:"0 10px"}},n+1," / ",l.length,q),a.a.createElement(y.a,{large:!0,disabled:n>=l.length-1,style:{width:"30px"},rightIcon:"chevron-right",onClick:function(){return S()}})),a.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:"1 1 auto"}},a.a.createElement(y.c,{elevation:2,style:{margin:"6px 0"}},!o.date.isEqual(E)&&a.a.createElement(y.h,{intent:"danger"},a.a.createElement("div",{style:{color:zt.a.ORANGE3}},"Item from: ",(C=o.date,Object(B.e)(C.atStartOfDay()).toDate().toDateString()))),a.a.createElement("div",{style:{display:"flex",alignItems:"center"}},a.a.createElement(y.j,{style:{marginBottom:"0",marginRight:"10px"},onClick:function(){return w.push(ot(o.item.id))}},o.item.title),o.existingEntry&&o.existingEntry.done&&a.a.createElement(y.n,{icon:"tick-circle",intent:"success"})),a.a.createElement("div",{style:{whiteSpace:"pre-line"}},o.item.text),a.a.createElement("div",{style:{height:"20px"}})),a.a.createElement(Je,null),a.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},P?a.a.createElement(y.a,{disabled:!P,style:{marginRight:"20px"},large:!0,onClick:function(){O.push({type:"mark-done",isDone:!1,itemId:o.item.id,scheduleDate:E})}},"Mark undone"):a.a.createElement(y.u,{content:a.a.createElement(y.p,{large:!0},a.a.createElement(y.q,{disabled:P,text:"Mark done and archive",onClick:function(){O.push([{type:"mark-done",isDone:!0,itemId:o.item.id,scheduleDate:E},{type:"archive-item",itemId:o.item.id,lastReminderDate:E}]);var e=l.findIndex((function(e){return!(e===o||e.existingEntry&&e.existingEntry.done)}));e>=0&&w.push(at(e))}}),a.a.createElement(y.q,{text:"Archive",icon:"archive",onClick:function(){O.push({type:"archive-item",itemId:o.item.id,lastReminderDate:E.minusDays(1)}),k.add({message:"Item archived",action:{text:"Undo",onClick:function(){O.push({type:"archive-item",itemId:o.item.id,lastReminderDate:null})}}})}}),a.a.createElement(y.q,{text:"Mark Done and set next reminder..."}),a.a.createElement(Et,null,a.a.createElement(y.t,{min:0,value:g,onValueChange:x}),a.a.createElement(y.a,{small:!0,text:"OK",onClick:function(){var e=o.date.plusDays(g);c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){Ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o,{date:e})),O.push({type:"set-revise-date",itemId:o.item.id,scheduleIndex:n,date:e})}}))),position:"bottom",isOpen:m},a.a.createElement(y.b,null,a.a.createElement(y.a,{large:!0,intent:"primary",disabled:P,onClick:function(){O.push({type:"mark-done",isDone:!0,itemId:o.item.id,scheduleDate:E});var e=l.findIndex((function(e){return!(e===o||e.existingEntry&&e.existingEntry.done)}));e>=0&&w.push(at(e))}},N),a.a.createElement(y.a,{large:!0,intent:"primary",icon:"caret-down",onClick:function(){return v(!m)}}))))))}function Wt(){return a.a.createElement("div",null,JSON.stringify(window.location))}function Ut(){return a.a.createElement(Qe.d,null,a.a.createElement(Qe.a,{from:"/",exact:!0,to:at(null)}),a.a.createElement(Qe.b,nt.route((function(){return a.a.createElement(Ft,null)}))),a.a.createElement(Qe.b,it((function(e){return a.a.createElement(Bt,{itemIndex:e.itemIndex})}))),a.a.createElement(Qe.b,ct((function(e){return a.a.createElement(Pt,{itemId:e.itemId})}))),a.a.createElement(Qe.b,lt((function(e){return a.a.createElement(It,{selectedMonth:e.month})}))),a.a.createElement(Qe.b,{path:"/share_target",render:function(){return a.a.createElement(Wt,null)}}))}function Jt(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ze.a,null,a.a.createElement(bt,null),a.a.createElement(Ut,null)))}function Yt(e){return tn(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||en()}function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){Xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zt(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function Qt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Zt(i,r,a,o,c,"next",e)}function c(e){Zt(i,r,a,o,c,"throw",e)}o(void 0)}))}}function $t(e,t){return tn(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||en()}function en(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function tn(e){if(Array.isArray(e))return e}function nn(){var e=$t(Object(r.useState)([]),2),t=e[0],n=e[1],i=$t(Object(r.useState)(),2),o=i[0],c=i[1],u=$t(Object(r.useState)(""),2),l=u[0],s=u[1],d=$t(Object(r.useState)(!1),2),f=d[0],p=d[1],h=$t(Object(r.useState)(""),2),m=h[0],v=h[1],b=$t(Object(r.useState)(!1),2),g=b[0],x=b[1];function w(){return(w=Qt(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return","error");case 2:if(e.prev=2,void 0!==(t=new Ve)){e.next=6;break}throw new Error;case 6:return e.next=8,t.save(o.getData(),!0);case 8:if("pick-canceled"!==(n=e.sent)){e.next=11;break}return e.abrupt("return","canceled");case 11:if("string"!=typeof n){e.next=13;break}return e.abrupt("return","error");case 13:return c(n.store),L(n.file),e.abrupt("return","ok");case 18:return e.prev=18,e.t0=e.catch(2),s("Could not load file."),e.abrupt("return","error");case 22:return e.prev=22,p(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[2,18,22,25]])})))).apply(this,arguments)}function E(e){return O.apply(this,arguments)}function O(){return(O=Qt(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(void 0),p(!0),s(""),e.prev=3,void 0!==(n=new Ve)){e.next=7;break}throw new Error;case 7:return e.next=9,n.openRecent(t);case 9:if("string"!=typeof(r=e.sent)){e.next=13;break}return s(r),e.abrupt("return");case 13:c(r),L(t),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),s("Could not load file.");case 20:return e.prev=20,p(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[3,17,20,23]])})))).apply(this,arguments)}function k(){return(k=Qt(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Ve,p(!0),e.prev=2,s(""),e.next=6,t.open();case 6:if("string"!=typeof(n=e.sent)){e.next=10;break}return s(n),e.abrupt("return");case 10:c(n.store),L(n.file);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,,12,15]])})))).apply(this,arguments)}function j(){return(j=Qt(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Ve,p(!0),e.prev=2,s(""),e.next=6,t.save({items:[],nextId:0,lastEventId:-1,fileName:"My remember list"},!0);case 6:if("pick-canceled"!==(n=e.sent)){e.next=9;break}return e.abrupt("return");case 9:if("string"!=typeof n){e.next=12;break}return s(n),e.abrupt("return");case 12:c(n.store),L(n.file);case 14:return e.prev=14,p(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,,14,17]])})))).apply(this,arguments)}function I(){return S.apply(this,arguments)}function S(){return(S=Qt(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s(""),x(!1),null!==(t=on(m))){e.next=7;break}return s("Could not parse file id or url"),x(!0),e.abrupt("return");case 7:return n=new Ve,e.next=10,n.openRecent({fileId:t,name:"",type:"gdrive"});case 10:"string"==typeof(r=e.sent)?s(r):(a=r.getData().fileName,L({fileId:t,name:a,type:"gdrive"}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Qt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new Ue,c(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){var e=H();n(e)}),[]),void 0!==o?a.a.createElement(de.Provider,{value:o},a.a.createElement(fe.Provider,{value:{openFile:function(e){return E(e)},saveToDrive:function(){return function(){return w.apply(this,arguments)}()}}},a.a.createElement(Jt,null))):a.a.createElement(Ge,{style:{alignItems:"center",justifyContent:"center",flex:"1 1 0"}},a.a.createElement(y.c,{elevation:2,style:{position:"relative",display:"flex",flexDirection:"column"}},a.a.createElement("div",null,l),a.a.createElement(y.p,null,a.a.createElement(y.k,null,"Recent files"),a.a.createElement(rn,{files:t,loadFile:E,deleteFile:function(e){V(e),n(H())}})),a.a.createElement(y.b,{style:{marginTop:"10px"}},a.a.createElement(y.a,{fill:!0,icon:a.a.createElement("img",{style:{width:"16px",height:"16px"},src:M.a}),onClick:function(){return j.apply(this,arguments)}},"Create file"),a.a.createElement(y.a,{rightIcon:"help",style:{minWidth:"40px"}})),a.a.createElement(y.b,{style:{marginTop:"10px"}},a.a.createElement(y.a,{fill:!0,icon:a.a.createElement("img",{style:{width:"16px",height:"16px"},src:M.a}),onClick:function(){return k.apply(this,arguments)}},"Open file"),a.a.createElement(y.a,{rightIcon:"help",style:{minWidth:"40px"}})),a.a.createElement(y.d,{style:{marginTop:"10px"},vertical:!0},a.a.createElement(y.o,{intent:g?"danger":"none",value:m,onChange:function(e){return v(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&I()}}),a.a.createElement(y.b,null,a.a.createElement(y.a,{fill:!0,icon:a.a.createElement("img",{style:{width:"16px",height:"16px"},src:M.a}),onClick:I},"Open file from url"),a.a.createElement(y.a,{rightIcon:"help",style:{minWidth:"40px"}}))),a.a.createElement(y.b,{style:{marginTop:"10px"}},a.a.createElement(y.a,{fill:!0,icon:"database",onClick:function(){return D.apply(this,arguments)}},"Use local storage"),a.a.createElement(y.a,{rightIcon:"help",style:{minWidth:"40px"}})),f&&a.a.createElement(Ke,{style:Kt({background:"rgba(206, 217, 224, 0.5)"},Xe,{zIndex:1e3})},a.a.createElement(y.w,null))))}function rn(e){var t=e.files,n=e.loadFile,r=e.deleteFile;if(0===t.length)return a.a.createElement("div",{className:P.a.TEXT_MUTED},"No files open yet.");var i=Yt(t),o=i[0],c=i.slice(1);return a.a.createElement(y.p,null,a.a.createElement(y.l,null,"Last file:"),a.a.createElement(an,{main:!0,file:o,onDeleted:function(){r(o)},onClick:function(){n(o)}}),a.a.createElement(y.e,null),c.map((function(e){return a.a.createElement(an,{key:e.fileId,file:e,onDeleted:function(){r(e)},onClick:function(){n(e)}})})))}function an(e){var t=e.file,n=e.onClick,r=e.main,i=e.onDeleted;return a.a.createElement(y.q,{style:{height:r?"50px":void 0,alignItems:"center",width:"200px"},text:a.a.createElement(Ye,null,"gdrive"===t.type&&a.a.createElement("img",{style:{width:"16px",height:"16px"},src:M.a}),"ls"===t.type&&a.a.createElement(y.n,{icon:"database"}),a.a.createElement("div",{style:{marginLeft:"10px"}},t.name),a.a.createElement(Je,null),a.a.createElement(y.a,{rightIcon:"trash",onClick:function(e){e.stopPropagation(),V(t),i()}})),onClick:n})}function on(e){var t=new N.a(e,!0),n=t.query.id;if(n&&""!==n)return n;var r=t.pathname.split("/").filter((function(e){return""!==e}));return 1===r.length?r[0]:r.length>=3?r[2]:null}var cn=b.b.div.withConfig({displayName:"Layout__StyledAppRoot",componentId:"sc-5031p7-0"})(["width:100%;height:100%;display:flex;flex-direction:column;align-items:stretch;justify-content:stretch;background:#e1e3e6;overflow:auto;"]);function un(){var e=Object(r.useRef)(),t=Object(r.useContext)(_),n=Object(r.useContext)(D);return Object(r.useEffect)((function(){function e(e){if(!e.defaultPrevented){if(e.target){var t=e.target;if("function"==typeof t.matches&&(t.matches("input[type=text]")||t.matches("input[type=textarea]")))return}n.fire({event:e})}}return window.document.body.addEventListener("keydown",e),function(){window.document.body.removeEventListener("keydown",e)}}),[]),a.a.createElement(cn,null,a.a.createElement(C.Provider,{value:e},a.a.createElement(nn,null)),a.a.createElement(y.B,{ref:function(e){t.toaster=e}}),a.a.createElement("div",{ref:function(t){return e.current=t},style:{position:"absolute",width:"100%",height:"100%",pointerEvents:"none",zIndex:2,background:"transparent"}}))}o.a.render(a.a.createElement((function(){var e=function(){var e=f(Object(r.useState)(null),2),t=e[0],n=e[1];return Object(r.useEffect)((function(){fetch("public/environment.json").then((function(e){return e.json()})).then((function(e){n(e)}))}),[]),t}(),t=function(e){var t=d(Object(r.useState)(null),2),n=t[0],a=t[1];return Object(r.useEffect)((function(){null!==e?e.useTestApi?a(new s):a(new l(e.apiUrl)):a(null)}),[e]),n}(e);return null===e||null===t?a.a.createElement("div",{className:"lds-container"},a.a.createElement("div",{className:"lds-ring"},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))):a.a.createElement(c.a,{i18n:v},a.a.createElement(p.Provider,{value:e},a.a.createElement(u.Provider,{value:t},a.a.createElement(un,null))))}),null),document.getElementById("root"))},65:function(e,t,n){e.exports=n.p+"fc811c2269942d8ab01709249aa97482.png"}});