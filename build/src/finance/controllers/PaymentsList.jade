md-content.payments-list(layout='column' ng-controller='PaymentsListCtrl' )                

  div(layout='row' layout-align='space-between center' style='padding: 8px;')
    div(layout='row')
      button.icon-button(ng-click='muteHidden()' title='Mute filtered')
        ng-md-icon(icon='volume_off' style="fill: #ff8c66; cursor:pointer;" size='20')
      button.icon-button(ng-click='unmuteAll()' title='Unmute all')
        ng-md-icon(icon='volume_up' style="fill: #ff8c66; cursor:pointer;" size='20')
    div(layout='row')
      div HACKER FILTER: 
      div (function(p) {
      input(ng-model='filterFunction' flex='')
      div ;})
    
    div(flex='')
    div
      div(ng-include='"finance/controllers/NewPayment.html"')

  div.payment(ng-repeat-start='p in visiblePayments track by p.payment.id' 
      ng-mouseenter='enteredPayment(p)' ng-mouseleave='leftPayment(p)' ng-hide='p.showEdit'
      layout='row' layout-align='space-between center' 
      style='border-top: solid 1px rgba(0, 0, 0, 0.117647); padding: 4px; padding-left:8px;'
      ng-class='{muted : p.payment.isMuted}')
    button.icon-button(ng-click='mute(p)' ng-hide='p.payment.isMuted')
      ng-md-icon(icon='volume_off' style="fill: #ff8c66; cursor:pointer;" size='20')
    button.icon-button(ng-click='unmute(p)' ng-show='p.payment.isMuted')
      ng-md-icon(icon='volume_up' style="fill: #ff8c66; cursor:pointer;" size='20')
    div(flex='') {{p.description}}
    div(flex='10' style='max-width: 70px') {{p.type}}
    div(flex='10' style='min-width: 70px') {{p.date | date : 'dd/MM/yyyy'}}
    div(flex='15' style='min-width: 70px; text-align:right;') {{p.amountFormatted}}
    div(flex='10' style='min-width: 70px; text-align:left;' layout='column') 
      div.effect {{p.absoluteEffect}}
      div.effect {{p.chronoEffect}}
    div(flex='7') {{p.currency}}
    div(flex='15' layout='row' layout-align='start center')
      div(style='width:15px; height:15px; margin-right: 10px;' ng-style='{"background-color": p.color}')
      div {{p.accountName}}
    div(layout='row' layout-align='end center')
      div(style='padding-right: 0;' flex='')
        button.icon-button(ng-click='edit(p)')
          ng-md-icon(icon='edit' style="fill: #99c2ff; cursor:pointer;" size='24')
      div(style='padding-left: 0;')
        button.icon-button
          ng-md-icon(icon='delete' style="fill: #ff8c66; cursor:pointer;" size='24' ng-click='delete(p)')
  div.edit(ng-repeat-end='' ng-show='p.showEdit')
    div(layout='row' layout-align='end center')
      button.icon-button(ng-click='saveEdit(p)')
        ng-md-icon(icon='save' style="fill: #99c2ff; cursor:pointer;" size='24')
      button.icon-button(ng-click='cancelEdit(p)')
        ng-md-icon(icon='close' style="fill: #99c2ff; cursor:pointer;" size='24')
    div(directive='templateFor(p.payment)' ng-if='p.showEdit' ng-attr-payment='p.editPayment')
