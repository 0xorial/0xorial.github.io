html(lang='en', ng-app='StarterApp')
  head
    link(rel='stylesheet', href='./build/bower_components/angular-material/angular-material.min.css', inline='')
    link(rel='stylesheet', href='./build/bower_components/md-color-picker/dist/mdColorPicker.min.css', inline='')
    link(rel='stylesheet', href='../finance/app.css', inline='')

    script(type='text/ng-template' id='state.html')
      div(layout='column' flex='')
        md-toolbar
          .md-toolbar-tools(ng-controller='SerializationCtrl')
            md-button.md-raised(ng-click='undo()' ng-disabled='!canUndo()') Undo
            md-button.md-raised(ng-click='redo()' ng-disabled='!canRedo()') Redo
            md-button.md-raised(ng-click='new()') New
            md-button.md-raised(ng-click='openDrive()') Open
            md-button.md-raised(ng-click='saveDrive()') Save
            md-button.md-raised(ng-click='saveDriveNew()') Save as:
            input(ng-model='driveFileName')
            md-button.md-raised(ng-click='download()') Download
            input#file-input(type='file' accept='.json' class='custom-file-input')
            img(src='/finance/495.gif' ng-show='isLoading')
            div(ng-hide='needDriveAuthorization') {{status}}
            md-button.md-raised(ng-show='needDriveAuthorization', ng-click='authorizeInDrive()') 'Authorize in Drive'
                        
        div(flex='' layout='row' )
          md-content(flex='50' layout='column')
            div(flex='100')
              div(md-on-select='onPaymentsSelected()' md-active='paymentsActive()')
                .md-whiteframe-z1(style='margin:10px;' layout='column' )
                  div(ng-include='"finance/controllers/PaymentsList.html"')
              div(md-on-select='onAccountsSelected()' md-active='accountsActive()')
                .md-whiteframe-z1(style='margin:10px;' layout='column' )
                  div(ng-include='"finance/controllers/AccountsList.html"' layout='column')
          div(flex='50' layout='column')
            .md-whiteframe-z1(style='margin:10px;' layout='column' flex='')
              div(ng-include='"finance/controllers/BudgetOverviewChart.html"' layout='column' flex='')
              
  body.md-default-theme(style='overflow: hidden; height:100% width:100%' layout='column')
    div(ui-view = '' flex='' layout='column')

    script(src='./build/bower_components/lodash/lodash.js', inline='')
    script(src='./build/bower_components/numeral/numeral.js', inline='')
    script(src='./build/bower_components/jsondiffpatch/public/build/jsondiffpatch-full.js', inline='')
    script(src='./build/bower_components/jquery/dist/jquery.js', inline='')
    script(src='./build/bower_components/jquery-mousewheel/jquery.mousewheel.js', inline='')
    script(src='./build/bower_components/bluebird/js/browser/bluebird.js', inline='')
    script(src='./build/bower_components/moment/moment.js', inline='')
    script(src='./build/bower_components/clipboard/dist/clipboard.js', inline='')
    script(src='./build/bower_components/file-saver.js/FileSaver.js', inline='')


    script(src='./build/bower_components/angular/angular.js')
    script(src='./build/bower_components/angular-keyboard/keyboard.js', inline='')
    script(src='./build/bower_components/angular-messages/angular-messages.js')
    script(src='./build/bower_components/angular-ui-router/release/angular-ui-router.js')
    script(src='./build/bower_components/ui-router-extras/release/ct-ui-router-extras.js')
    script(src='./build/bower_components/angular-animate/angular-animate.js')
    script(src='./build/bower_components/angular-aria/angular-aria.js')
    script(src='./build/bower_components/angular-material/angular-material.js')
    script(src='./build/bower_components/angular-material-icons/angular-material-icons.js')
    script(src='./build/bower_components/tinycolor/dist/tinycolor-min.js')
    script(src='./build/bower_components/md-color-picker/dist/mdColorPicker.min.js')
    script(src='./build/bower_components/highcharts/highstock.js')
    script(src='./build/bower_components/highcharts/modules/exporting.js')
    script(src='./build/bower_components/highcharts/modules/offline-exporting.js')

    script(src='./finance/utils.js')
    script(src='./finance/model/payment.js')
    script(src='./finance/model/account.js')
    script(src='./finance/model/accountsState.js')
    script(src='./finance/model/beTaxSystem.js')
    script(src='./finance/model/borrowPayment.js')
    script(src='./finance/model/periodicPayment.js')
    script(src='./finance/model/simplePayment.js')
    script(src='./finance/model/simulationContext.js')
    script(src='./finance/model/taxableIncomePayment.js')
    script(src='./finance/model/transaction.js')
    script(src='./finance/model/utils.js')
    script(src='./finance/model/aspects/serialize.js')
    script(src='./finance/model/aspects/assignTo.js')
    script(src='./finance/data.js')
    script(src='./finance/app.js')
    script(src='./finance/services/DataService.js')
    script(src='./finance/services/SimulationService.js')
    script(src='./finance/services/SavingService.js')
    script(src='./finance/services/JsonSerializationService.js')
    script(src='./finance/services/HistoryService.js')
    script(src='./finance/services/GoogleDriveApiService.js')
    script(src='./finance/services/TransactionsPopupService.js')
    script(src='./finance/services/FormulaEvaluationService.js')
    script(src='./finance/services/PersistenceService.js')
    script(src='./finance/services/UndoRedoService.js')
    script(src='./finance/services/DocumentDataService.js')
    script(src='./finance/controllers/AccountsListCtrl.js')
    script(src='./finance/controllers/NewPaymentCtrl.js')
    script(src='./finance/controllers/PaymentsListCtrl.js')
    script(src='./finance/controllers/SerializationCtrl.js')
    script(src='./finance/controllers/TransactionsListCtrl.js')
    script(src='./finance/controllers/BudgetOverviewChartCtrl.js')
    script(src='./finance/controllers/ValuesCtrl.js')
    script(src='./finance/templates/utils/AccountsDropDown.js')
    script(src='./finance/templates/utils/TagsSelector.js')
    script(src='./finance/templates/utils/TagsArray.js')
    script(src='./finance/templates/utils/DirectiveSwitch.js')
    script(src='./finance/templates/editors/editorBase.js')
    
    script(src='http://localhost:3003/livereload.js')
