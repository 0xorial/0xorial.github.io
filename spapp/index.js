!function(e){function t(t){for(var r,a,i=t[0],o=t[1],c=t[2],u=0,s=[];u<i.length;u++)a=i[u],Object.prototype.hasOwnProperty.call(D,a)&&D[a]&&s.push(D[a][0]),D[a]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);for(N&&N(t);s.length;)s.shift()();return A.push.apply(A,c||[]),n()}function n(){for(var e,t=0;t<A.length;t++){for(var n=A[t],r=!0,a=1;a<n.length;a++){var i=n[a];0!==D[i]&&(r=!1)}r&&(A.splice(t--,1),e=C(C.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!w[e]||!x[e])return;for(var n in x[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(h[n]=t[n]);0==--y&&0===g&&S()}(e,t),r&&r(e,t)};var a,i=!0,o="d9a0042c8478001ab404",c={},u=[],s=[];function l(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:a!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:k,apply:I,status:function(e){if(!e)return f;d.push(e)},addStatusHandler:function(e){d.push(e)},removeStatusHandler:function(e){var t=d.indexOf(e);t>=0&&d.splice(t,1)},data:c[e]};return a=void 0,t}var d=[],f="idle";function p(e){f=e;for(var t=0;t<d.length;t++)d[t].call(null,e)}var m,h,v,y=0,g=0,b={},x={},w={};function E(e){return+e+""===e?+e:e}function k(e){if("idle"!==f)throw new Error("check() is only allowed in idle status");return i=e,p("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,a=C.p+""+o+".hot-update.json";r.open("GET",a,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+a+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+a+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return p("idle"),null;x={},b={},w=e.c,v=e.h,p("prepare");var t=new Promise((function(e,t){m={resolve:e,reject:t}}));for(var n in h={},D)O(n);return"prepare"===f&&0===g&&0===y&&S(),t}));var t}function O(e){w[e]?(x[e]=!0,y++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=C.p+""+e+"."+o+".hot-update.js",document.head.appendChild(t)}(e)):b[e]=!0}function S(){p("ready");var e=m;if(m=null,e)if(i)Promise.resolve().then((function(){return I(i)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&t.push(E(n));e.resolve(t)}}function I(t){if("ready"!==f)throw new Error("apply() is only allowed in ready status");var n,r,a,i,s;function l(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var a=r.pop(),o=a.id,c=a.chain;if((i=j[o])&&!i.hot._selfAccepted){if(i.hot._selfDeclined)return{type:"self-declined",chain:c,moduleId:o};if(i.hot._main)return{type:"unaccepted",chain:c,moduleId:o};for(var u=0;u<i.parents.length;u++){var s=i.parents[u],l=j[s];if(l){if(l.hot._declinedDependencies[o])return{type:"declined",chain:c.concat([s]),moduleId:o,parentId:s};-1===t.indexOf(s)&&(l.hot._acceptedDependencies[o]?(n[s]||(n[s]=[]),d(n[s],[o])):(delete n[s],t.push(s),r.push({chain:c.concat([s]),id:s})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var m={},y=[],g={},b=function(){console.warn("[HMR] unexpected require("+k.moduleId+") to disposed module")};for(var x in h)if(Object.prototype.hasOwnProperty.call(h,x)){var k;s=E(x);var O=!1,S=!1,I=!1,A="";switch((k=h[x]?l(s):{type:"disposed",moduleId:x}).chain&&(A="\nUpdate propagation: "+k.chain.join(" -> ")),k.type){case"self-declined":t.onDeclined&&t.onDeclined(k),t.ignoreDeclined||(O=new Error("Aborted because of self decline: "+k.moduleId+A));break;case"declined":t.onDeclined&&t.onDeclined(k),t.ignoreDeclined||(O=new Error("Aborted because of declined dependency: "+k.moduleId+" in "+k.parentId+A));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(k),t.ignoreUnaccepted||(O=new Error("Aborted because "+s+" is not accepted"+A));break;case"accepted":t.onAccepted&&t.onAccepted(k),S=!0;break;case"disposed":t.onDisposed&&t.onDisposed(k),I=!0;break;default:throw new Error("Unexception type "+k.type)}if(O)return p("abort"),Promise.reject(O);if(S)for(s in g[s]=h[s],d(y,k.outdatedModules),k.outdatedDependencies)Object.prototype.hasOwnProperty.call(k.outdatedDependencies,s)&&(m[s]||(m[s]=[]),d(m[s],k.outdatedDependencies[s]));I&&(d(y,[k.moduleId]),g[s]=b)}var _,R=[];for(r=0;r<y.length;r++)s=y[r],j[s]&&j[s].hot._selfAccepted&&g[s]!==b&&R.push({module:s,errorHandler:j[s].hot._selfAccepted});p("dispose"),Object.keys(w).forEach((function(e){!1===w[e]&&function(e){delete D[e]}(e)}));for(var P,N,M=y.slice();M.length>0;)if(s=M.pop(),i=j[s]){var T={},q=i.hot._disposeHandlers;for(a=0;a<q.length;a++)(n=q[a])(T);for(c[s]=T,i.hot.active=!1,delete j[s],delete m[s],a=0;a<i.children.length;a++){var z=j[i.children[a]];z&&((_=z.parents.indexOf(s))>=0&&z.parents.splice(_,1))}}for(s in m)if(Object.prototype.hasOwnProperty.call(m,s)&&(i=j[s]))for(N=m[s],a=0;a<N.length;a++)P=N[a],(_=i.children.indexOf(P))>=0&&i.children.splice(_,1);for(s in p("apply"),o=v,g)Object.prototype.hasOwnProperty.call(g,s)&&(e[s]=g[s]);var F=null;for(s in m)if(Object.prototype.hasOwnProperty.call(m,s)&&(i=j[s])){N=m[s];var L=[];for(r=0;r<N.length;r++)if(P=N[r],n=i.hot._acceptedDependencies[P]){if(-1!==L.indexOf(n))continue;L.push(n)}for(r=0;r<L.length;r++){n=L[r];try{n(N)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:s,dependencyId:N[r],error:e}),t.ignoreErrored||F||(F=e)}}}for(r=0;r<R.length;r++){var H=R[r];s=H.module,u=[s];try{C(s)}catch(e){if("function"==typeof H.errorHandler)try{H.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:s,error:n,originalError:e}),t.ignoreErrored||F||(F=n),F||(F=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:s,error:e}),t.ignoreErrored||F||(F=e)}}return F?(p("fail"),Promise.reject(F)):(p("idle"),new Promise((function(e){e(y)})))}var j={},D={0:0},A=[];function C(t){if(j[t])return j[t].exports;var n=j[t]={i:t,l:!1,exports:{},hot:l(t),parents:(s=u,u=[],s),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=j[e];if(!t)return C;var n=function(n){return t.hot.active?(j[n]?-1===j[n].parents.indexOf(e)&&j[n].parents.push(e):(u=[e],a=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),u=[]),C(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return C[e]},set:function(t){C[e]=t}}};for(var i in C)Object.prototype.hasOwnProperty.call(C,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(n,i,r(i));return n.e=function(e){return"ready"===f&&p("prepare"),g++,C.e(e).then(t,(function(e){throw t(),e}));function t(){g--,"prepare"===f&&(b[e]||O(e),0===g&&0===y&&S())}},n.t=function(e,t){return 1&t&&(e=n(e)),C.t(e,-2&t)},n}(t)),n.l=!0,n.exports}C.m=e,C.c=j,C.d=function(e,t,n){C.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},C.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},C.t=function(e,t){if(1&t&&(e=C(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(C.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)C.d(n,r,function(t){return e[t]}.bind(null,r));return n},C.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return C.d(t,"a",t),t},C.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},C.p="",C.h=function(){return o};var _=window.webpackJsonp=window.webpackJsonp||[],R=_.push.bind(_);_.push=t,_=_.slice();for(var P=0;P<_.length;P++)t(_[P]);var N=R;A.push([244,1]),n()}({136:function(e,t,n){(t=n(80)(!1)).push([e.i,".bp3-popover-wrapper{display:flex}.bp3-popover-target,span.bp3-popover-target{display:flex}\n",""]),e.exports=t},201:function(e){e.exports=JSON.parse('{"menu":{"simulations":"Simulations","consultants":"Consultants","administration":"Administration","myDetails":"My details","logOut":"Log out","administrationSubmenu":{"connections":"Energy connections","groups":"Company groups management","companies":"Companies management","contracts":"Company energy contracts","subscriptions":"Odot subscriptions","timeline":"Timeline"}},"searchHeader":{"searchBy":"Search by","companyName":"Company name:","vatNumber":"VAT Nr:","companyGroup":"Company group"}}')},244:function(e,t,n){n(245),e.exports=n(490)},442:function(e,t,n){var r=n(79),a=n(136);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1},o=r(a,i),c=a.locals?a.locals:{};a.locals||e.hot.accept(136,(function(){var t=n(136);"string"==typeof(t=t.__esModule?t.default:t)&&(t=[[e.i,t,""]]),o(t)})),e.hot.dispose((function(){o()})),e.exports=c},490:function(e,t,n){"use strict";n.r(t);n(431),n(432),n(433),n(441),n(442);var r=n(0),a=n.n(r),i=n(23),o=n.n(i),c=n(209),u=n(16),s=Object(r.createContext)(null);var l=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.apiUrl=t};var d=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var m=Object(r.createContext)(null);var h=n(150),v=n(201);h.a.init({initImmediate:!1,lng:"en",fallbackLng:"en",resources:{en:{translation:v}},interpolation:{escapeValue:!1}});var y=h.a,g=n(494),b=n(101);function x(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function w(){var e=window.localStorage.getItem("recent");return null===e?[]:JSON.parse(e)}function E(e){var t=w(),n=t.findIndex((function(t){return t.fileId===e.fileId&&t.type===e.type}));n>=0&&t.splice(n,1);var r,a=[e].concat(x(t));r=a,window.localStorage.setItem("recent",JSON.stringify(r))}function k(){return w()}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var j=function e(){I(this,e),this.next=void 0,this.next=new D(this)},D=function e(t){I(this,e),this.previous=void 0,this.previous=t},A=function(){function e(t){I(this,e),this.next=null,this.previous=null,this.item=void 0,this.item=t}return S(e,[{key:"detachSelf",value:function(){if(!this.next&&!this.previous)throw new Error("node is not attached");this.next&&(this.next.previous=this.previous),this.previous&&(this.previous.next=this.next),this.next=null,this.previous=null}},{key:"attachAfter",value:function(e){if(this.next||this.previous)throw new Error("Node is inserted elsewhere");this.next=e.next,this.previous=e,e.next&&(e.next.previous=this),e.next=this}},{key:"attachBefore",value:function(e){if(!e.previous)throw new Error("no previous node found.");this.attachAfter(e.previous)}},{key:"isAttached",value:function(){return void 0!==this.next}}]),e}(),C=function(){function e(){I(this,e),this.head=void 0,this.tail=void 0,this.head=new j,this.tail=this.head.next}return S(e,[{key:"add",value:function(e){var t=new A(e);return t.attachAfter(this.tail.previous),t}},{key:"getItems",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"forEach",value:function(e){for(var t=this.head.next;t!==this.tail;){var n=t;if(e(n.item,n),!n.next)throw new Error("badly attached item found.");t=n.next}}},{key:"hasItems",value:function(){return this.head.next!==this.tail}},{key:"getLastItem",value:function(){if(!this.hasItems())throw new Error("no items in list.");return this.head.next}}]),e}();function _(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=new C,r=t?{item:t}:void 0;return{fire:function(t){e&&(r={item:t}),n.forEach((function(e){e(t)}))},subscribable:function(t){var a=n.add(t);return e&&void 0!==r&&t(r.item),{unsubscribe:function(){null!==a.previous&&a.detachSelf()}}}}}var R=n(8),P=n(7);function N(e,t){return null===e?Object(P.isFunction)(t)?t():t:e}var M=n(144),T=n.n(M),q=regeneratorRuntime.mark(B),z=regeneratorRuntime.mark(U);function F(e,t){return T.a.minBy(e.filter((function(e){return e.date.isAfter(t)})),(function(e){return t.until(e.date,R.a.DAYS)}))}function L(e,t){var n=Math.abs(e.until(t,R.a.DAYS)),r=Math.max(Math.min(2*n,32),1);return t.plusDays(r)}function H(e,t,n){if(null===n){!function(e){if(!e)throw new Error}(null===t);var r=F(e.scheduleOptions.explicitDates,e.addedOn);return void 0!==r?{date:r.date,item:e,existingEntry:r,scheduleIndex:0}:{date:e.addedOn.plusDays(1),item:e,scheduleIndex:0}}if(null===t){var a=F(e.scheduleOptions.explicitDates,n.date);return void 0!==a?{date:a.date,item:e,existingEntry:a,scheduleIndex:n.scheduleIndex+1}:{date:L(e.addedOn,n.date),item:e,scheduleIndex:n.scheduleIndex+1}}var i=F(e.scheduleOptions.explicitDates,n.date);return void 0!==i?{date:i.date,item:e,existingEntry:i,scheduleIndex:n.scheduleIndex+1}:{date:L(t.date,n.date),item:e,scheduleIndex:n.scheduleIndex+1}}function V(e,t,n){var r=H(e,t,n);return void 0!==e.scheduleOptions.stopAfter&&r.date.isAfter(e.scheduleOptions.stopAfter)?null:r}function B(e){var t,n,r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=null,n=null;case 2:if(null!==(r=V(e,n,t))){a.next=6;break}return a.abrupt("return");case 6:return a.next=8,r;case 8:n=t,t=r,a.next=2;break;case 12:case"end":return a.stop()}}),q)}function U(e){var t,n,r,a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=e.map((function(e){var t=B(e),n=t.next();return{iterator:t,last:n}})),n=R.b.now();case 2:if(void 0!==(r=T.a.minBy(t,(function(e){return void 0===e.last.value?1e7:n.until(e.last.value.date,R.a.DAYS)})))){i.next=6;break}return i.abrupt("return");case 6:if(!r.last.done){i.next=8;break}return i.abrupt("return");case 8:return a=r.iterator.next(),i.next=11,r.last.value;case 11:r.last=a,i.next=2;break;case 14:case"end":return i.stop()}}),z)}function W(e,t){for(var n=[],r=0;r<t;r++){var a=e.next();if(a.done)return n;n.push(a.value)}return n}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.next();if(r.done)return[];for(var a=[];;)if(a.push(r.value),(r=e.next()).done||"break"===t(r.value)){n&&a.push(r.value);break}return a}function J(e){e.items.forEach((function(e){void 0===e.title&&(e.title=e.text,e.text=""),e.addedOn=R.b.parse(e.addedOn),void 0===e.scheduleOptions&&(e.scheduleOptions={explicitDates:e.rememberedDates}),e.scheduleOptions.stopAfter&&(e.scheduleOptions.stopAfter=R.b.parse(e.scheduleOptions.stopAfter)),e.scheduleOptions.explicitDates.forEach((function(e){e.date=R.b.parse(e.date)}))}))}function Y(e,t){var n=e.items.find((function(e){return e.id===t}));if(void 0===n)throw new Error("item not found: "+t);return n}function K(e,t){if(e.lastEventId++,"create-item"===t.type){var n=e.nextId++;e.items.push({addedOn:t.createdOn,id:n,title:t.title,text:t.data,scheduleOptions:{explicitDates:[]}})}else if("delete-item"===t.type){var r=e.items.findIndex((function(e){return e.id===t.itemId}));if(r<0)throw new Error("item with id ".concat(t.itemId," not found."));e.items.splice(r,1)}else if("mark-done"===t.type){var a=Y(e,t.itemId),i=a.scheduleOptions.explicitDates.find((function(e){return e.date.isEqual(t.scheduleDate)}));i?i.done=t.isDone:a.scheduleOptions.explicitDates.push({date:t.scheduleDate,done:t.isDone})}else if("set-file-name"===t.type)e.fileName=t.name;else if("archive-item"===t.type){var o=Y(e,t.itemId);null===t.lastReminderDate?o.scheduleOptions.stopAfter=void 0:o.scheduleOptions.stopAfter=t.lastReminderDate}else if("set-learn-date"===t.type){Y(e,t.itemId).addedOn=t.date}else if("set-revise-date"===t.type){var c=Y(e,t.itemId),u=W(B(c),t.scheduleIndex+2),s=t.scheduleIndex>0?u[t.scheduleIndex-1].date:c.addedOn;if(console.log(t.date),!t.date.isAfter(s))throw new Error("cannot reorder events");var l=u[t.scheduleIndex+1];if(u.length>t.scheduleIndex+1&&void 0!==u[t.scheduleIndex+1].existingEntry&&!l.date.isAfter(t.date))throw new Error("cannot reorder events");var d=c.scheduleOptions.explicitDates.find((function(e){return e.date.isEqual(t.date)}));d?d.date=t.date:c.scheduleOptions.explicitDates.push({date:t.date,done:!1})}else if("delete-entry"===t.type){var f=Y(e,t.itemId),p=f.scheduleOptions.explicitDates.findIndex((function(e){return e.date.isEqual(t.scheduleDate)}));if(p<0)throw new Error;f.scheduleOptions.explicitDates.splice(p,1)}else if("set-title"===t.type){Y(e,t.itemId).title=t.title}else if("set-text"===t.type){Y(e,t.itemId).text=t.text}else!function(e){throw new Error("should be unreachable.")}()}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Z=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this._onDataChanged=_(),this._onStatusChanged=_(),this.onDataChanged=this._onDataChanged.subscribable,this.onStatusChanged=this._onStatusChanged.subscribable,this.type="memory"}var t,n,r;return t=e,(n=[{key:"getData",value:function(){return this.data}},{key:"setData",value:function(e){this.data=e,this._onDataChanged.fire({newData:e})}},{key:"save",value:function(){return Promise.resolve()}},{key:"getFileId",value:function(){return""}}])&&X(t.prototype,n),r&&X(t,r),e}();function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e){return!!e&&"string"==typeof e.type}function ne(){var e=window.localStorage.getItem("data-cache"),t=null===e?{items:[],nextId:0,lastEventId:-1,fileName:"My remember list"}:JSON.parse(e);return J(t),t}var re=Object(r.createContext)(function(){var e=ne(),t=new Z(e),n=t.onDataChanged(i),r=_(!0),a=_(!0,{newData:e});function i(e){window.localStorage.setItem("data-cache",JSON.stringify(e.newData)),a.fire(e)}return{getStore:function(){return t},setStore:function(a){n.unsubscribe(),te(t=a)&&(n=t.onDataChanged(i),e=t.getData(),i({newData:t.getData()})),r.fire({newStore:a})},storeChagned:r.subscribable,observeData:a.subscribable,pushEvent:function(n){if(Array.isArray(n)){var r=!0,a=!1,i=void 0;try{for(var o,c=n[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var u=o.value;K(e,u)}}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}}else K(e,n);if(!te(t))throw new Error;t.setData(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}}}());function ae(){var e=Object(r.useContext)(re),t=Q(Object(r.useState)(e.getStore()),2),n=t[0],a=t[1];return Object(r.useEffect)((function(){var t=e.storeChagned((function(e){var t=e.newStore;a(t)}));return function(){t.unsubscribe()}}),[e]),n}function ie(){var e=Object(r.useContext)(re);return{push:function(t){e.pushEvent(t)}}}function oe(e){var t=Object(r.useContext)(re),n=Q(Object(r.useState)(null),2),a=n[0],i=n[1];return Object(r.useEffect)((function(){var n=t.observeData((function(t){var n=t.newData;i(n),e&&e(n)}));return function(){n.unsubscribe()}}),[t]),a}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t,n){return t&&ue(e.prototype,t),n&&ue(e,n),e}function le(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function de(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){le(i,r,a,o,c,"next",e)}function c(e){le(i,r,a,o,c,"throw",e)}o(void 0)}))}}var fe=!1;function pe(e){return fe?Promise.resolve():new Promise((function(t){gapi.load(e,(function(){fe=!0,t()}))}))}var me=!1;function he(e){return new Promise((function(t){gapi.auth.authorize({client_id:"44725971814-4jtha4r70ort05q844tjr1g50h6ejpsm.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/drive.file",immediate:e},(function(e){t(e)}))}))}function ve(){return ye.apply(this,arguments)}function ye(){return(ye=de(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(!0);case 2:if(!(t=e.sent).error){e.next=7;break}return e.next=6,he(!1);case 6:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e){return be.apply(this,arguments)}function be(){return(be=de(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new google.picker.DocsView(google.picker.ViewId.FOLDERS).setParent("root").setIncludeFolders(!0).setMimeTypes("application/vnd.google-apps.folder").setSelectFolderEnabled(!0),e.abrupt("return",new Promise((function(e){(new google.picker.PickerBuilder).addView(n).setOAuthToken(t).setDeveloperKey("AIzaSyAfqmSa7zUxV3O9YVmfFYqhgIe65nMDv7g").setAppId("quickstart-1574022526886").setCallback((function(t){t.action!==google.picker.Action.PICKED&&t.action!==google.picker.Action.CANCEL||e(t)})).build().setVisible(!0)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e){return we.apply(this,arguments)}function we(){return(we=de(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new google.picker.DocsView(google.picker.ViewId.DOCS).setIncludeFolders(!0).setParent("root"),e.abrupt("return",new Promise((function(e){(new google.picker.PickerBuilder).addView(n).setOAuthToken(t).setDeveloperKey("AIzaSyAfqmSa7zUxV3O9YVmfFYqhgIe65nMDv7g").setAppId("quickstart-1574022526886").setCallback((function(t){t.action!==google.picker.Action.PICKED&&t.action!==google.picker.Action.CANCEL||e(t)})).build().setVisible(!0)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(e,t,n){return ke.apply(this,arguments)}function ke(){return(ke=de(regeneratorRuntime.mark((function e(t,n,r){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gapi.client.drive.files.create({resource:{mimeType:"text/plain",parents:t?[t]:[],name:r},oauth_token:n});case 2:if(200!==(a=e.sent).status){e.next=6;break}return i=a.result,e.abrupt("return",i.id);case 6:return e.abrupt("return",void 0);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e,t,n){return Se.apply(this,arguments)}function Se(){return(Se=de(regeneratorRuntime.mark((function e(t,n,r){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={name:r},i={Authorization:"Bearer "+n},e.next=4,gapi.client.request({path:"https://www.googleapis.com/drive/v3/files/".concat(t),method:"PATCH",headers:i,body:a});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e,t){return je.apply(this,arguments)}function je(){return(je=de(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={Authorization:"Bearer "+n},e.next=3,fetch("https://www.googleapis.com/drive/v3/files/".concat(t,"?fields=name,version"),{method:"GET",headers:new Headers(r)});case 3:if((a=e.sent).ok){e.next=6;break}return e.abrupt("return","bad-response");case 6:return e.abrupt("return",a.json());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e,t){return Ae.apply(this,arguments)}function Ae(){return(Ae=de(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={Authorization:"Bearer "+n},e.next=3,fetch("https://www.googleapis.com/drive/v3/files/".concat(t,"?alt=media"),{method:"GET",headers:new Headers(r)});case 3:if((a=e.sent).ok){e.next=6;break}return e.abrupt("return","bad-response");case 6:return e.abrupt("return",a.json());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e,t,n){return _e.apply(this,arguments)}function _e(){return(_e=de(regeneratorRuntime.mark((function e(t,n,r){var a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify(r),i={Authorization:"Bearer "+n},e.next=4,fetch("https://www.googleapis.com/upload/drive/v3/files/".concat(t,"?fields=version"),{method:"PATCH",headers:new Headers(i),body:a});case 4:if((o=e.sent).ok){e.next=7;break}return e.abrupt("return","bad-response");case 7:return e.abrupt("return",o.json());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Re=function(){function e(t,n,r,a){ce(this,e),this._fileId=t,this._token=n,this.data=r,this._fileVersion=a,this._onDataChanged=_(),this._onStatusChanged=_(!0,{newStatus:"saved"}),this.onDataChanged=this._onDataChanged.subscribable,this.onStatusChanged=this._onStatusChanged.subscribable,this.type="gdrive",this.savePromise=null,this.lastScheduledSave={cancel:!1},this.name="",this.name=r.fileName}var t,n;return se(e,[{key:"getData",value:function(){return this.data}},{key:"setData",value:function(e){this.data=e,this.setStatus("dirty"),this._onDataChanged.fire({newData:e}),this.scheduleSave()}},{key:"save",value:(n=de(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=23;break}if(!this.savePromise){e.next=4;break}return e.next=4,this.savePromise;case 4:return this.setStatus("saving"),e.next=7,this.doSave({cancel:!1},!1);case 7:if("error"!==(n=e.sent)){e.next=12;break}this.setStatus("error"),e.next=21;break;case 12:if("conflict"!==n){e.next=16;break}this.setStatus("later-version-found"),e.next=21;break;case 16:if("canceled"!==n){e.next=20;break}return e.abrupt("return");case 20:this.setStatus("saved");case 21:e.next=24;break;case 23:this.scheduleSave();case 24:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getFileId",value:function(){return this._fileId}},{key:"setStatus",value:function(e){this._onStatusChanged.fire({newStatus:e})}},{key:"doSave",value:(t=de(regeneratorRuntime.mark((function e(t,n){var r,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.data,this.name===r.fileName){e.next=7;break}return e.next=4,Oe(this._fileId,this._token,r.fileName);case 4:if(!t.cancel){e.next=6;break}return e.abrupt("return","canceled");case 6:this.name=r.fileName;case 7:if(!n){e.next=18;break}return e.next=10,Ie(this._fileId,this._token);case 10:if(a=e.sent,!t.cancel){e.next=13;break}return e.abrupt("return","canceled");case 13:if("bad-response"!==a){e.next=15;break}return e.abrupt("return","bad-response");case 15:if(!(parseInt(a.version,10)>this._fileVersion)){e.next=18;break}return e.abrupt("return","conflict");case 18:return e.next=20,Ce(this._fileId,this._token,r);case 20:if(i=e.sent,!t.cancel){e.next=23;break}return e.abrupt("return","canceled");case 23:if("bad-response"!==i){e.next=25;break}return e.abrupt("return","error");case 25:return o=parseInt(i.version,10),this._fileVersion=o+1,e.abrupt("return","ok");case 28:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"scheduleSave",value:function(){var e=this;this.lastScheduledSave.cancel=!0;var t={cancel:!1};this.lastScheduledSave=t,window.setTimeout(de(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.savePromise){n.next=3;break}return n.next=3,e.savePromise;case 3:if(!t.cancel){n.next=5;break}return n.abrupt("return");case 5:e.savePromise=new Promise(function(){var n=de(regeneratorRuntime.mark((function n(r){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e.setStatus("saving"),n.next=4,e.doSave(t,!0);case 4:if("error"!==(a=n.sent)){n.next=9;break}e.setStatus("error"),n.next=18;break;case 9:if("conflict"!==a){n.next=13;break}e.setStatus("later-version-found"),n.next=18;break;case 13:if("canceled"!==a){n.next=17;break}return n.abrupt("return");case 17:e.setStatus("saved");case 18:return n.prev=18,r(),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[0,,18,21]])})));return function(e){return n.apply(this,arguments)}}());case 6:case"end":return n.stop()}}),n)}))),1e3)}}]),e}(),Pe=function(){function e(){ce(this,e),this.name="Google Drive",this.type="gdrive"}var t,n,r,a;return se(e,[{key:"_loadAndAuthorize",value:(a=de(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe("client:auth:picker");case 2:return e.next=4,me?Promise.resolve():gapi.client.init({apiKey:"AIzaSyAfqmSa7zUxV3O9YVmfFYqhgIe65nMDv7g",clientId:"44725971814-4jtha4r70ort05q844tjr1g50h6ejpsm.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/drive.file",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"]}).then((function(){me=!0}));case 4:return e.next=6,ve();case 6:if(!(t=e.sent).error){e.next=9;break}return e.abrupt("return","unauthorized");case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"open",value:(r=de(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._loadAndAuthorize();case 2:if("unauthorized"!==(t=e.sent)){e.next=5;break}return e.abrupt("return","unauthorized");case 5:return e.next=7,xe(t.access_token);case 7:if((n=e.sent).action!==google.picker.Action.CANCEL){e.next=10;break}return e.abrupt("return","pick-canceled");case 10:return r=n.docs[0].id,e.next=13,Ie(r,t.access_token);case 13:if("bad-response"!==(a=e.sent)){e.next=16;break}return e.abrupt("return",a);case 16:return i=a.name,e.next=19,De(r,t.access_token);case 19:if("bad-response"!==(o=e.sent)){e.next=22;break}return e.abrupt("return",o);case 22:return J(o),o.fileName=i,e.abrupt("return",{store:new Re(r,t.access_token,o,parseInt(a.version,10)),file:{type:"gdrive",fileId:r,name:i}});case 25:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"openRecent",value:(n=de(regeneratorRuntime.mark((function e(t){var n,r,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._loadAndAuthorize();case 2:if("unauthorized"!==(n=e.sent)){e.next=5;break}return e.abrupt("return","unauthorized");case 5:return r=t.fileId,e.next=8,Ie(r,n.access_token);case 8:if("bad-response"!==(a=e.sent)){e.next=11;break}return e.abrupt("return","Cannot get file info from google drive.");case 11:return i=a.name,e.next=14,De(r,n.access_token);case 14:if("bad-response"!==(o=e.sent)){e.next=17;break}return e.abrupt("return",o);case 17:return J(o),o.fileName=i,e.abrupt("return",new Re(r,n.access_token,o,parseInt(a.version,10)));case 20:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"save",value:(t=de(regeneratorRuntime.mark((function e(t,n){var r,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._loadAndAuthorize();case 2:if("unauthorized"!==(r=e.sent)){e.next=5;break}return e.abrupt("return","unauthorized");case 5:if(n){e.next=12;break}return e.next=8,ge(r.access_token);case 8:if((i=e.sent).action!==google.picker.Action.CANCEL){e.next=11;break}return e.abrupt("return","pick-canceled");case 11:a=i.docs[0].id;case 12:return e.next=14,Ee(a,r.access_token,t.fileName);case 14:if(void 0!==(o=e.sent)){e.next=17;break}return e.abrupt("return","cannot-create-file");case 17:return e.next=19,Ce(o,r.access_token,t);case 19:return e.abrupt("return",{store:new Re(o,r.access_token,t,0),file:{type:"gdrive",fileId:o,name:t.fileName}});case 20:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}();function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Me=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name="Local storage",this.type="ls"}var t,n,r;return t=e,(n=[{key:"open",value:function(){throw new Error("Method not implemented.")}},{key:"openRecent",value:function(e){throw new Error("Method not implemented.")}},{key:"save",value:function(){throw new Error("Method not implemented.")}}])&&Ne(t.prototype,n),r&&Ne(t,r),e}(),Te=[new Pe,new Me],qe=Object(r.createContext)(null);u.b.div.withConfig({displayName:"Modal__StyledModalContainer",componentId:"sc-171r9mz-0"})(["pointer-events:visible;background:#00000088;width:100%;height:100%;display:flex;align-items:center;justify-content:center;"]);var ze=0,Fe=Object(r.createContext)({toaster:null});function Le(){var e=Object(r.useContext)(Fe);return{addText:function(t){if(null===e.toaster)throw new Error("missing context");e.toaster.show({message:t},(ze++).toString())},add:function(t){if(null===e.toaster)throw new Error("missing context");e.toaster.show(t,(ze++).toString())}}}var He=n(24),Ve=(Object(u.a)(["display:flex;flex-direction:row;"]),Object(u.a)(["display:flex;flex-direction:column;"]),u.b.div.withConfig({displayName:"LayoutStyles__FlexFiller",componentId:"sc-1f3rlvd-0"})(["flex:1 1 0;"])),Be=u.b.div.withConfig({displayName:"LayoutStyles__FlexCenteredRow",componentId:"sc-1f3rlvd-1"})(["display:flex;align-items:center;"]),Ue=u.b.div.withConfig({displayName:"LayoutStyles__FlexColumn",componentId:"sc-1f3rlvd-2"})(["display:flex;flex-direction:column;"]),We="93",Ge="4eec8c5";var Je,Ye={path:Je="/items",route:function(e){return{exact:!0,path:Je,render:function(){return e()}}}},Ke=function(e){return null===e?"/today":"/today/"+e},Xe=function(e){return{exact:!0,path:"/today/:itemIndex?",render:function(t){var n=t.match.params.itemIndex;if("string"!=typeof n||""===n.trim())return e({itemIndex:null});var r=parseInt(n,10);return isNaN(r)?a.a.createElement("div",null,"Invalid item id: ",t.match.params.itemId):e({itemIndex:r})}}},Ze=function(e){return"/items/"+e.toString()},Qe=function(e){return{exact:!0,path:"/items/:itemId",render:function(t){var n=parseInt(t.match.params.itemId,10);return isNaN(n)?a.a.createElement("div",null,"Invalid item id: ",t.match.params.itemId):e({itemId:n})}}};var $e=function(e){return e?"/calendar/"+e.toString():"/calendar"},et=function(e){return{exact:!0,path:"/calendar/:month?",render:function(t){var n,r=t.match.params.itemId;if("string"!=typeof r||""===r.trim())return e({month:null});try{n=R.d.parse(r)}catch(e){return a.a.createElement("div",null,"Invalid month: ",r)}return e({month:n})}}},tt=n(204),nt=n.n(tt);function rt(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function at(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){rt(i,r,a,o,c,"next",e)}function c(e){rt(i,r,a,o,c,"throw",e)}o(void 0)}))}}function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ot(e){var t=new nt.a(e,!0),n=t.query.id;if(n&&""!==n)return n;var r=t.pathname.split("/").filter((function(e){return""!==e}));return 1===r.length?r[0]:r.length>=3?r[2]:null}function ct(){var e=Object(r.useContext)(re),t=it(Object(r.useState)([]),2),n=t[0],i=t[1],o=it(Object(r.useState)(""),2),c=o[0],u=o[1],s=it(Object(r.useState)(""),2),l=s[0],d=s[1],f=ae();function p(){return(p=at(regeneratorRuntime.mark((function t(n){var r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setStore("loading"),t.prev=1,void 0!==(r=Te.find((function(e){return e.type===n.type})))){t.next=5;break}throw new Error;case 5:return t.next=7,r.openRecent(n);case 7:if("string"!=typeof(a=t.sent)){t.next=11;break}return e.setStore({error:a}),t.abrupt("return");case 11:e.setStore(a),E(n),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),e.setStore({error:"Error while loading file."});case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))).apply(this,arguments)}function m(){return h.apply(this,arguments)}function h(){return(h=at(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d(""),null!==(n=ot(c))){t.next=5;break}return d("Could not parse file id or url"),t.abrupt("return");case 5:return r=new Pe,e.setStore("loading"),t.next=9,r.openRecent({fileId:n,name:"",type:"gdrive"});case 9:"string"==typeof(a=t.sent)?(d(a),e.setStore({error:a})):(e.setStore(a),i=a.getData().fileName,E({fileId:n,name:i,type:"gdrive"}));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){i(k())}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(g.q,{content:a.a.createElement(g.m,null,a.a.createElement("div",null,"Google drive file id or link"),a.a.createElement(g.l,{style:{margin:"4px 0"},value:c,onChange:function(e){return u(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&m()}}),a.a.createElement(g.a,{disabled:""===c,fill:!0,onClick:m},"Open"),a.a.createElement("div",null,l),0===n.length?a.a.createElement("div",{style:{padding:"4px"}},"No recent files"):n.map((function(e){return a.a.createElement(g.n,{key:e.fileId+e.type+e.name,text:e.name,onClick:function(){return function(e){return p.apply(this,arguments)}(e)}})}))),position:"bottom"},a.a.createElement(g.b,{style:{marginLeft:"20px"}},a.a.createElement(g.a,{style:{minWidth:"80px"},loading:"loading"===f,rightIcon:"caret-down"},"Open..."))))}function ut(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function st(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){ut(i,r,a,o,c,"next",e)}function c(e){ut(i,r,a,o,c,"throw",e)}o(void 0)}))}}function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function dt(){var e=lt(Object(r.useState)(""),2),t=e[0],n=e[1],i=Object(r.useContext)(re),o=lt(Object(r.useState)(null),2),c=o[0],u=o[1],s=ae(),l=oe();function d(){return(d=st(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(""),i.setStore("loading"),t=null===c?Te[0]:c,e.next=5,t.save(l||{items:[],nextId:0,lastEventId:-1,fileName:"My remember list"},!1);case 5:if("string"!=typeof(r=e.sent)){e.next=9;break}return n(r),e.abrupt("return");case 9:i.setStore(r.store),E(r.file);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a.a.createElement(a.a.Fragment,null,a.a.createElement(ct,null),a.a.createElement(g.q,{content:a.a.createElement(g.m,null,Te.map((function(e){return a.a.createElement(g.n,{key:e.type+e.type,text:e.name,onClick:function(){u(e)}})}))),position:"bottom"},a.a.createElement(g.b,{style:{marginLeft:"20px"}},a.a.createElement(g.a,{style:{minWidth:"80px"},onClick:function(){return d.apply(this,arguments)},loading:"loading"===s},a.a.createElement("span",null,"save in "),a.a.createElement("span",null,null===c?Te[0].name:c.name)),a.a.createElement(g.a,{icon:"caret-down"}))),a.a.createElement("div",null,t))}var ft=n(1);function pt(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function mt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){pt(i,r,a,o,c,"next",e)}function c(e){pt(i,r,a,o,c,"throw",e)}o(void 0)}))}}function ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function vt(){var e=Object(r.useContext)(re),t=ae(),n=oe(),i=ht(Object(r.useState)((function(){return e.getStore()})),2),o=i[0],c=i[1];return Object(r.useEffect)((function(){var t=e.storeChagned((function(e){var t=e.newStore;c(t)}));return function(){t.unsubscribe()}}),[e]),a.a.createElement(a.a.Fragment,null,te(o)&&"gdrive"===o.type?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,"Saved in google drive"),a.a.createElement(g.a,{onClick:mt(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=new Z(null!=n?n:{items:[],nextId:0,lastEventId:-1,fileName:"My remember list"}),e.setStore(r);case 3:case"end":return t.stop()}}),t)})))},"Save locally instead")):a.a.createElement(Ue,{style:{alignItems:"flex-start"}},a.a.createElement(g.a,{style:{marginBottom:"10px"},disabled:"loading"===t,loading:"loading"===t,onClick:mt(regeneratorRuntime.mark((function t(){var r,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setStore("loading"),r=null!=n?n:{items:[],nextId:0,lastEventId:-1,fileName:"My remember list"},a=new Pe,t.next=5,a.save(r,!0);case 5:"string"==typeof(i=t.sent)?e.setStore({error:i}):(e.setStore(i.store),E(i.file));case 7:case"end":return t.stop()}}),t)})))},"Save in Google Drive"),a.a.createElement(ct,null)),!te(t)&&"loading"!==t&&a.a.createElement("div",{className:ft.a.INTENT_DANGER},t.error))}function yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function gt(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function bt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){gt(i,r,a,o,c,"next",e)}function c(e){gt(i,r,a,o,c,"throw",e)}o(void 0)}))}}function xt(e){var t=e.state,n=Object(r.useContext)(re),i=ae(),o=Le();switch(t){case"disconnected":return a.a.createElement(g.k,{icon:"offline"});case"dirty":return a.a.createElement(g.k,{icon:"changes"});case"offline":return a.a.createElement(g.k,{icon:"offline"});case"error":return a.a.createElement(g.k,{icon:"error"});case"saving":return a.a.createElement(g.s,{size:14});case"saved":return a.a.createElement(g.k,{icon:"saved"});case"later-version-found":return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,"File outdated."),a.a.createElement(g.a,{loading:"loading"===i,onClick:function(){te(i)&&i.save(!0)}},"Overwrite"),a.a.createElement(g.a,{loading:"loading"===i,onClick:bt(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setStore("loading"),!te(i)){e.next=15;break}return t=Te.find((function(e){return e.type=i.type})),e.next=5,null==t?void 0:t.openRecent({name:i.getData().fileName,type:"gdrive",fileId:i.getFileId()});case 5:if("string"!=typeof(r=e.sent)){e.next=11;break}return o.add({message:r,intent:"danger"}),e.abrupt("return");case 11:if(void 0!==r){e.next=14;break}return o.add({message:"Error",intent:"danger"}),e.abrupt("return");case 14:te(r)&&n.setStore(r);case 15:case"end":return e.stop()}}),e)})))},"Reload"))}}function wt(){var e=yt(Object(r.useState)("offline"),2),t=e[0],n=e[1],i=ae();return Object(r.useEffect)((function(){if(te(i)){var e=i.onStatusChanged((function(e){n(e.newStatus)}));return function(){e.unsubscribe()}}}),[i]),a.a.createElement(Be,{style:{marginLeft:"10px"}},a.a.createElement(xt,{state:"loading"===i?"saving":t}),a.a.createElement("div",null,te(i)?"Saving to "+function(e){switch(e){case"gdrive":return"Google Drive";case"ls":case"memory":return"local storage"}}(i.type):""))}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function kt(){var e=Et(Object(r.useState)(),2),t=e[0],n=e[1],i=Et(Object(r.useState)(1e7),2),o=i[0],c=i[1],u=Et(Object(r.useState)(""),2),s=u[0],l=u[1],d=Et(Object(r.useState)(!1),2),f=d[0],p=d[1];Object(r.useEffect)((function(){var e=window;e.onWbAccept?p(!0):e.onWbShouldRefresh((function(){p(!0)}))}),[]),oe((function(e){l(e.fileName)}));var m=ie(),h=Object(He.g)(),v=h.location.pathname,y="";v===Ye.path?y="items":v.startsWith("/calendar")?y="calendar":v===Ke(null)&&(y="today");var b=o<1400;function x(e){n(!1),h.push(e)}return a.a.createElement(a.a.Fragment,null,a.a.createElement(g.r,{onResize:function(e){return c(e[e.length-1].contentRect.width)}},a.a.createElement(g.o,null,a.a.createElement(g.p,{align:"center"},a.a.createElement(g.a,{style:{marginRight:"10px"},onClick:function(){return n(!t)}},"☰"),!b&&a.a.createElement(a.a.Fragment,null,a.a.createElement(g.v,{animate:!0,large:!0,onChange:function(e){x("/"+e)},selectedTabId:y},a.a.createElement(g.u,{title:"Remember List",id:"today"}),a.a.createElement(g.u,{title:"Items",id:"items"}),a.a.createElement(g.u,{title:"Calendar",id:"calendar"})),a.a.createElement(dt,null),a.a.createElement("div",{style:{width:"10px"}}),a.a.createElement(g.f,{key:s,minWidth:150,defaultValue:s,onConfirm:function(e){m.push({type:"set-file-name",name:e})}})),a.a.createElement(wt,null),a.a.createElement(Ve,null),f&&a.a.createElement(g.a,{onClick:function(){window.onWbAccept()},minimal:!0},"Switch to new version"),"v. ",We," (",Ge,")"))),a.a.createElement(g.e,{title:"Spaced repetition app",isOpen:t,onClose:function(){return n(!1)},position:"left",size:g.e.SIZE_LARGE},a.a.createElement(g.m,{large:!0},a.a.createElement(g.n,{text:"Remember list",onClick:function(){return x(Ke(null))}}),a.a.createElement(g.n,{text:"Items",onClick:function(){return x(Ye.path)}}),a.a.createElement(g.n,{text:"Calendar",onClick:function(){return x($e())}}),a.a.createElement(vt,null))))}u.b.div.withConfig({displayName:"Styles__StyledDropDown",componentId:"yh5bts-0"})(["background:white;box-shadow:1px 1px 4px 2px rgba(0,0,0,0.3);pointer-events:all;"]);var Ot=Object(u.a)(["min-height:30px;background:white;outline:none;color:",";padding:4px 8px;border:1px solid ",";border-radius:3px;transition:border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out;&:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 2px rgba(0,123,255,0.25);}&.error{border:1px solid red;}"],"#696969","#696969"),St=(u.b.textarea.withConfig({displayName:"Styles__StyledTextArea",componentId:"yh5bts-1"})(["",""],Ot),u.b.input.withConfig({displayName:"Styles__StyledTextInput",componentId:"yh5bts-2"})(["",""],Ot),Object(u.a)(["border-radius:5px;transition:background-color 0.15s;cursor:pointer;&:hover{background-color:#eeeeee;}"]),u.b.div.withConfig({displayName:"Styles__StyledItem",componentId:"yh5bts-3"})(["border-radius:2px;box-shadow:0 1px 5px rgba(0,0,0,0.46);margin:4px;padding:4px;background:white;display:grid;grid-row-gap:12px;"])),It=u.b.div.withConfig({displayName:"Styles__StyledLink",componentId:"yh5bts-4"})(["cursor:pointer;:hover{text-decoration:underline;}"]);function jt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return"string"==typeof e?e:e[0]?e[1]:""})).join(" ")}function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var At=Object(u.b)(It).withConfig({displayName:"Calendar__StyledItemTitle",componentId:"sg6f1j-0"})(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:4px;&.learned{text-decoration:underline;}&.highlighted{box-shadow:0 1px 5px rgba(0,0,0,0.46);background:#e9ed9f;&.learned{background:#c2ed9f;}}"]);function Ct(e){var t=e.selectedMonth,n=Dt(Object(r.useState)(N(t,(function(){return R.d.now()}))),2),i=n[0],o=n[1],c=function(e){for(var t=e.lengthOfMonth(),n=e.atDay(1).dayOfWeek().ordinal(),r=n+t,a=Math.ceil(r/7),i=[],o=e.atDay(1).minusDays(n),c=0;c<a;c++){for(var u=[],s=0;s<7;s++)u.push({date:o}),o=o.plusDays(1);i.push(u)}return i}(i),u=Dt(Object(r.useState)([]),2),s=u[0],l=u[1],d=Dt(Object(r.useState)(null),2),f=d[0],p=d[1],m=oe(),h=Object(He.g)();Object(r.useEffect)((function(){o(N(t,(function(){return R.d.now()})))}),[t]),Object(r.useEffect)((function(){i.equals(R.d.now())?h.push($e()):h.push($e(i))}),[i]),Object(r.useEffect)((function(){if(null!==m){var e=c[0][0].date,t=c[c.length-1],n=t[t.length-1].date,r=G(U(m.items),(function(e){return e.date.isAfter(n)?"break":"continue"})).filter((function(t){return!t.date.isBefore(e)}));l(r)}else l([])}),[i,m]);var v=R.b.now();return null===m?a.a.createElement("div",null,"No file loaded."):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{display:"flex",alignItems:"center",margin:"10px",alignSelf:"center"}},a.a.createElement(g.a,{onClick:function(){o(i.minusMonths(1))}},"<"),a.a.createElement("div",{style:{width:"200px",display:"flex",justifyContent:"center"}},i.month().name()," ",i.year()),a.a.createElement(g.a,{onClick:function(){o(i.plusMonths(1))}},">")),a.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:"1 1 0",background:"white"}},c.map((function(e){return a.a.createElement("div",{key:e[0].date.toString(),style:{display:"flex",flex:"1 1 0",borderBottom:"1px solid #ccc"}},e.map((function(e){var t=m.items.filter((function(t){return t.addedOn.isEqual(e.date)})),n=s.filter((function(t){return t.date.equals(e.date)}));return a.a.createElement("div",{key:e.date.toString(),style:{flex:"1 1 0",display:"flex",flexDirection:"column",borderRight:"1px solid #ccc",color:e.date.month().equals(i.month())?void 0:"#ccc",padding:"5px",boxShadow:v.isEqual(e.date)?"inset 0 0 0 1px ".concat("#f2720a",", inset 0 -1px 0 ").concat("#f2720a"):void 0}},a.a.createElement("div",{style:{alignSelf:"center",fontWeight:"bold"}},e.date.dayOfMonth()),t.map((function(e){var t=e.id===f;return a.a.createElement(At,{onClick:function(){h.push(Ze(e.id))},key:e.id,className:jt("learned",[t,"highlighted"]),onMouseOver:function(){p(e.id)},onMouseLeave:function(){p(null)}},e.title)})),n.map((function(e){var t=e.item.id===f;return a.a.createElement(At,{onClick:function(){h.push(Ze(e.item.id))},key:e.item.id,className:jt([t,"highlighted"]),onMouseOver:function(){p(e.item.id)},onMouseLeave:function(){p(null)}},e.item.title)})))})))}))))}var _t=n(18),Rt=n(495);function Pt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Mt=Object(u.b)(St).withConfig({displayName:"ItemDetails__StyledScheduledItem",componentId:"sc-167uriv-0"})(["max-width:300px;border:1px solid black;&.generated{border:1px dashed black;}"]);function Tt(e){var t=e.itemId,n=ie(),i=Nt(Object(r.useState)(null),2),o=i[0],c=i[1],u=Nt(Object(r.useState)(null),2),s=u[0],l=u[1],d=Nt(Object(r.useState)([]),2),f=d[0],p=d[1],m=Nt(Object(r.useState)(0),2),h=m[0],v=m[1];return oe((function(e){var n=e.items.find((function(e){return e.id===t}));n&&(l(n),v((function(e){return e+1})))})),Object(r.useEffect)((function(){if(null!==s){var e=B(s);c(e);var t=W(e,20);p(t)}}),[s,h]),null===s?a.a.createElement("div",null,"Loading..."):a.a.createElement("div",null,a.a.createElement(St,null,a.a.createElement(g.f,{placeholder:"Click to edit title",multiline:!0,defaultValue:s.title,onConfirm:function(e){return n.push({type:"set-title",itemId:s.id,title:e})}}),a.a.createElement(g.f,{placeholder:"Click to edit text",multiline:!0,defaultValue:s.text,onConfirm:function(e){return n.push({type:"set-text",itemId:s.id,text:e})}}),a.a.createElement(Rt.a,{dayPickerProps:{firstDayOfWeek:1},popoverProps:{position:_t.a.BOTTOM},formatDate:function(e){return e.toDateString()},parseDate:function(e){return new Date(Date.parse(e))},maxDate:new Date(2100,1),value:Object(R.e)(s.addedOn.atStartOfDay()).toDate(),onChange:function(e){return n.push({type:"set-learn-date",itemId:s.id,date:Object(R.f)(e).query(R.c.localDate())})}})),f.map((function(e){return a.a.createElement(Mt,{key:e.date.toString(),className:jt([!e.existingEntry,"generated"])},e.existingEntry&&a.a.createElement(It,{onClick:function(){n.push({type:"delete-entry",itemId:s.id,scheduleDate:e.date})}},"remove entry"),a.a.createElement(Rt.a,{dayPickerProps:{firstDayOfWeek:1},popoverProps:{position:_t.a.BOTTOM},formatDate:function(e){return e.toDateString()},parseDate:function(e){return new Date(Date.parse(e))},maxDate:new Date(2100,1),value:Object(R.e)(e.date.atStartOfDay()).toDate(),onChange:function(t,r){r&&(console.log(t),n.push({type:"set-revise-date",itemId:s.id,date:Object(R.f)(t).query(R.c.localDate()),scheduleIndex:e.scheduleIndex}))}}),a.a.createElement(g.t,{checked:!(!e.existingEntry||!e.existingEntry.done),onChange:function(){n.push({type:"mark-done",scheduleDate:e.date,isDone:!(e.existingEntry&&e.existingEntry.done),itemId:e.item.id})}},"Done"))})),a.a.createElement(g.a,{onClick:function(){if(null!==o){var e=W(o,10);p([].concat(Pt(f),Pt(e)))}}},"show more..."))}function qt(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function zt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){qt(i,r,a,o,c,"next",e)}function c(e){qt(i,r,a,o,c,"throw",e)}o(void 0)}))}}function Ft(e){var t=e.item,n=ie();return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{display:"grid",gridGap:"4px",gridAutoFlow:"column"}},a.a.createElement(g.a,{onClick:zt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("are you sure? this will delete item completely. you can archive it instead.")){e.next=2;break}return e.abrupt("return");case 2:n.push({type:"delete-item",itemId:t.id});case 3:case"end":return e.stop()}}),e)}))),icon:"trash"},"Delete"),a.a.createElement(g.a,{onClick:zt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.push({type:"archive-item",itemId:t.id,lastReminderDate:R.b.now()});case 1:case"end":return e.stop()}}),e)}))),icon:"archive"},"Archive")),t.scheduleOptions.stopAfter&&a.a.createElement(Be,null,a.a.createElement("div",null,"archived after: ",t.scheduleOptions.stopAfter.toString()),a.a.createElement(g.a,{large:!0,icon:"unarchive",onClick:function(){n.push({type:"archive-item",itemId:t.id,lastReminderDate:null})}})))}function Lt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Vt(){var e=Ht(Object(r.useState)(""),2),t=e[0],n=e[1],i=Ht(Object(r.useState)(""),2),o=i[0],c=i[1],u=Ht(Object(r.useState)([]),2),s=u[0],l=u[1],d=Object(He.g)(),f=Ht(Object(r.useState)(""),2),p=f[0],m=f[1];oe((function(e){var t=Lt(e.items).sort((function(e,t){return e.addedOn.isAfter(t.addedOn)?-1:e.addedOn.isEqual(t.addedOn)?0:1}));l(t)}));var h=ie();return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{margin:"4px"}},a.a.createElement(g.l,{large:!0,leftIcon:"search",value:p,onChange:function(e){return m(e.target.value)}})),a.a.createElement(St,{style:{display:"flex",flexDirection:"column",alignItems:"stretch"}},a.a.createElement(g.l,{style:{marginBottom:"4px"},placeholder:"Title",value:t,onChange:function(e){return n(e.target.value)}}),a.a.createElement(g.w,{placeholder:"Text",value:o,onChange:function(e){return c(e.target.value)}}),a.a.createElement(g.a,{onClick:function(){h.push({type:"create-item",title:t,data:o,createdOn:R.b.now()}),n(""),c("")}},"Add")),s.filter((function(e){return e.title.includes(p)||e.text.includes(p)})).map((function(e){return a.a.createElement(g.c,{key:e.id,elevation:2,style:{margin:"4px"}},a.a.createElement(Rt.a,{dayPickerProps:{firstDayOfWeek:1},popoverProps:{position:"bottom"},formatDate:function(e){return e.toDateString()},parseDate:function(e){return new Date(Date.parse(e))},maxDate:new Date(2100,1),value:Object(R.e)(e.addedOn.atStartOfDay()).toDate(),onChange:function(t){return h.push({type:"set-learn-date",itemId:e.id,date:Object(R.f)(t).query(R.c.localDate())})}}),a.a.createElement(It,{style:{fontWeight:"bold"},onClick:function(){d.push("/items/"+e.id)}},e.title),a.a.createElement("div",{style:{whiteSpace:"pre-line"}},e.text),a.a.createElement(Ft,{item:e}))})))}var Bt=n(197);function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Wt(e){var t=N(e.itemIndex,0),n=Ut(Object(r.useState)(),2),i=n[0],o=n[1],c=Ut(Object(r.useState)([]),2),u=c[0],s=c[1],l=Ut(Object(r.useState)("archived"),2),d=l[0],f=l[1],p=Ut(Object(r.useState)(!1),2),m=p[0],h=p[1],v=Object(He.g)(),y=R.b.now(),b=ie(),x=Le();if(Object(r.useEffect)((function(){if(t>u.length-1)f("archived");else{var e=G(B(u[t].item),(function(e){return e.date.isAfter(y)?"break":"continue"}),!0),n=e[e.length-1];n.date.isAfter(y)?f(n):f("archived")}}),[u,t]),Object(r.useEffect)((function(){var e=u[t];e?o(e):v.push(Ke(null))}),[u,t]),oe((function(e){var t=G(U(e.items),(function(e){return e.date.isAfter(y)?"break":"continue"}));s(t.filter((function(e){return!e.existingEntry||!e.existingEntry.done})))})),0===u.length)return a.a.createElement(g.h,{style:{alignSelf:"center"}},"Nothing to remember today :(");if(!i)return a.a.createElement("div",null,"Invalid item.");var w,E=i.existingEntry&&i.existingEntry.done,k="archived"===d?"archived":y.until(d.date,R.a.DAYS),O=E?"archived"===k?"Item is archived":"Next reminder in "+k+" days":"archived"===k?"Mark done and do not remind (item archived)":"Mark done and remind in "+k+" days",S=u.filter((function(e){return e.date.isBefore(y)})).length,I=u.filter((function(e){return!e.existingEntry||!e.existingEntry.done})).length,j=I>0?" (".concat(I," to go; ").concat(S," debt)"):a.a.createElement(g.k,{style:{marginLeft:"10px"},icon:"tick-circle",intent:"success"});return a.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:"1 1 auto",padding:"6px"}},a.a.createElement("div",{style:{display:"flex",alignItems:"center",alignSelf:"center"}},a.a.createElement(g.a,{large:!0,disabled:t<=0,style:{width:"30px"},icon:"chevron-left",onClick:function(){v.push(Ke(Math.max(t-1,0)))}}),a.a.createElement("div",{style:{margin:"0 10px"}},t+1," / ",u.length,j),a.a.createElement(g.a,{large:!0,disabled:t>=u.length-1,style:{width:"30px"},rightIcon:"chevron-right",onClick:function(){v.push(Ke(Math.min(t+1,u.length-1)))}})),a.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:"1 1 auto"}},a.a.createElement(g.c,{elevation:2,style:{margin:"6px 0"}},!i.date.isEqual(y)&&a.a.createElement(g.g,{intent:"danger"},a.a.createElement("div",{style:{color:Bt.a.ORANGE3}},"Item from: ",(w=i.date,Object(R.e)(w.atStartOfDay()).toDate().toDateString()))),a.a.createElement("div",{style:{display:"flex",alignItems:"center"}},a.a.createElement(g.i,{style:{marginBottom:"0",marginRight:"10px"},onClick:function(){return v.push(Ze(i.item.id))}},i.item.title),i.existingEntry&&i.existingEntry.done&&a.a.createElement(g.k,{icon:"tick-circle",intent:"success"})),a.a.createElement("div",{style:{whiteSpace:"pre-line"}},i.item.text),a.a.createElement("div",{style:{height:"20px"}})),a.a.createElement(Ve,null),a.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},E?a.a.createElement(g.a,{disabled:!E,style:{marginRight:"20px"},large:!0,onClick:function(){b.push({type:"mark-done",isDone:!1,itemId:i.item.id,scheduleDate:i.date})}},"Mark undone"):a.a.createElement(g.q,{content:a.a.createElement(g.m,{large:!0},a.a.createElement(g.n,{disabled:E,text:"Mark done and archive",onClick:function(){b.push([{type:"mark-done",isDone:!0,itemId:i.item.id,scheduleDate:i.date},{type:"archive-item",itemId:i.item.id,lastReminderDate:y}]);var e=u.findIndex((function(e){return!(e===i||e.existingEntry&&e.existingEntry.done)}));e>=0&&v.push(Ke(e))}}),a.a.createElement(g.n,{text:"Archive",icon:"archive",onClick:function(){b.push({type:"archive-item",itemId:i.item.id,lastReminderDate:y.minusDays(1)}),x.add({message:"Item archived",action:{text:"Undo",onClick:function(){b.push({type:"archive-item",itemId:i.item.id,lastReminderDate:null})}}})}}),a.a.createElement(g.n,{text:"Mark Done and set next reminder..."})),position:"bottom",isOpen:m},a.a.createElement(g.b,null,a.a.createElement(g.a,{large:!0,intent:"primary",disabled:E,onClick:function(){b.push({type:"mark-done",isDone:!0,itemId:i.item.id,scheduleDate:i.date});var e=u.findIndex((function(e){return!(e===i||e.existingEntry&&e.existingEntry.done)}));e>=0&&v.push(Ke(e))}},O),a.a.createElement(g.a,{large:!0,intent:"primary",icon:"caret-down",onClick:function(){return h(!m)}}))))))}function Gt(){return a.a.createElement("div",null,JSON.stringify(window.location))}function Jt(){return a.a.createElement(He.d,null,a.a.createElement(He.a,{from:"/",exact:!0,to:Ke(null)}),a.a.createElement(He.b,Ye.route((function(){return a.a.createElement(Vt,null)}))),a.a.createElement(He.b,Xe((function(e){return a.a.createElement(Wt,{itemIndex:e.itemIndex})}))),a.a.createElement(He.b,Qe((function(e){return a.a.createElement(Tt,{itemId:e.itemId})}))),a.a.createElement(He.b,et((function(e){return a.a.createElement(Ct,{selectedMonth:e.month})}))),a.a.createElement(He.b,{path:"/share_target",render:function(){return a.a.createElement(Gt,null)}}))}function Yt(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function Kt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Yt(i,r,a,o,c,"next",e)}function c(e){Yt(i,r,a,o,c,"throw",e)}o(void 0)}))}}var Xt=u.b.div.withConfig({displayName:"Layout__StyledAppRoot",componentId:"sc-5031p7-0"})(["width:100%;height:100%;display:flex;flex-direction:column;align-items:stretch;justify-content:stretch;background:#e1e3e6;overflow:auto;"]);function Zt(){return(Zt=Kt(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=k()).length){e.next=3;break}return e.abrupt("return");case 3:if(t.setStore("loading"),r=n[0],void 0!==(a=Te.find((function(e){return e.type===r.type})))){e.next=8;break}throw new Error;case 8:return e.next=10,a.openRecent(r);case 10:if("string"!=typeof(i=e.sent)){e.next=16;break}return o=ne(),c=new Z(o),t.setStore(c),e.abrupt("return");case 16:t.setStore(i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qt(){var e=Object(r.useRef)(),t=Object(r.useContext)(Fe),n=Object(r.useContext)(re);return Object(r.useEffect)((function(){!function(e){Zt.apply(this,arguments)}(n)}),[]),a.a.createElement(Xt,null,a.a.createElement(qe.Provider,{value:e},a.a.createElement(b.a,null,a.a.createElement(kt,null),a.a.createElement(Jt,null))),a.a.createElement(g.x,{ref:function(e){t.toaster=e}}),a.a.createElement("div",{ref:function(t){return e.current=t},style:{position:"absolute",width:"100%",height:"100%",pointerEvents:"none",zIndex:2,background:"transparent"}}))}u.b.div.withConfig({displayName:"Shell__StyledLoginText",componentId:"sc-1f8y22c-0"})(["height:100%;display:flex;justify-content:center;align-items:center;"]);o.a.render(a.a.createElement((function(){var e=function(){var e=p(Object(r.useState)(null),2),t=e[0],n=e[1];return Object(r.useEffect)((function(){fetch("public/environment.json").then((function(e){return e.json()})).then((function(e){n(e)}))}),[]),t}(),t=function(e){var t=f(Object(r.useState)(null),2),n=t[0],a=t[1];return Object(r.useEffect)((function(){null!==e?e.useTestApi?a(new d):a(new l(e.apiUrl)):a(null)}),[e]),n}(e);return null===e||null===t?a.a.createElement("div",{className:"lds-container"},a.a.createElement("div",{className:"lds-ring"},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))):a.a.createElement(c.a,{i18n:y},a.a.createElement(m.Provider,{value:e},a.a.createElement(s.Provider,{value:t},a.a.createElement(Qt,null))))}),null),document.getElementById("root"))}});