!function(e){function t(t){for(var r,a,i=t[0],o=t[1],c=t[2],u=0,l=[];u<i.length;u++)a=i[u],Object.prototype.hasOwnProperty.call(C,a)&&C[a]&&l.push(C[a][0]),C[a]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);for(N&&N(t);l.length;)l.shift()();return A.push.apply(A,c||[]),n()}function n(){for(var e,t=0;t<A.length;t++){for(var n=A[t],r=!0,a=1;a<n.length;a++){var i=n[a];0!==C[i]&&(r=!1)}r&&(A.splice(t--,1),e=_(_.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!E[e]||!x[e])return;for(var n in x[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(v[n]=t[n]);0==--b&&0===g&&j()}(e,t),r&&r(e,t)};var a,i=!0,o="20b2db7c08d9806755b7",c=1e4,u={},l=[],s=[];function d(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:a!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:k,apply:I,status:function(e){if(!e)return p;f.push(e)},addStatusHandler:function(e){f.push(e)},removeStatusHandler:function(e){var t=f.indexOf(e);t>=0&&f.splice(t,1)},data:u[e]};return a=void 0,t}var f=[],p="idle";function m(e){p=e;for(var t=0;t<f.length;t++)f[t].call(null,e)}var h,v,y,b=0,g=0,w={},x={},E={};function O(e){return+e+""===e?+e:e}function k(e){if("idle"!==p)throw new Error("check() is only allowed in idle status");return i=e,m("check"),(t=c,t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,a=_.p+""+o+".hot-update.json";r.open("GET",a,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+a+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+a+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return m("idle"),null;x={},w={},E=e.c,y=e.h,m("prepare");var t=new Promise(function(e,t){h={resolve:e,reject:t}});for(var n in v={},C)S(n);return"prepare"===p&&0===g&&0===b&&j(),t});var t}function S(e){E[e]?(x[e]=!0,b++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=_.p+""+e+"."+o+".hot-update.js",document.head.appendChild(t)}(e)):w[e]=!0}function j(){m("ready");var e=h;if(h=null,e)if(i)Promise.resolve().then(function(){return I(i)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in v)Object.prototype.hasOwnProperty.call(v,n)&&t.push(O(n));e.resolve(t)}}function I(t){if("ready"!==p)throw new Error("apply() is only allowed in ready status");var n,r,a,i,c;function s(e){for(var t=[e],n={},r=t.map(function(e){return{chain:[e],id:e}});r.length>0;){var a=r.pop(),o=a.id,c=a.chain;if((i=D[o])&&!i.hot._selfAccepted){if(i.hot._selfDeclined)return{type:"self-declined",chain:c,moduleId:o};if(i.hot._main)return{type:"unaccepted",chain:c,moduleId:o};for(var u=0;u<i.parents.length;u++){var l=i.parents[u],s=D[l];if(s){if(s.hot._declinedDependencies[o])return{type:"declined",chain:c.concat([l]),moduleId:o,parentId:l};-1===t.indexOf(l)&&(s.hot._acceptedDependencies[o]?(n[l]||(n[l]=[]),d(n[l],[o])):(delete n[l],t.push(l),r.push({chain:c.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var f={},h=[],b={},g=function(){console.warn("[HMR] unexpected require("+x.moduleId+") to disposed module")};for(var w in v)if(Object.prototype.hasOwnProperty.call(v,w)){var x;c=O(w);var k=!1,S=!1,j=!1,I="";switch((x=v[w]?s(c):{type:"disposed",moduleId:w}).chain&&(I="\nUpdate propagation: "+x.chain.join(" -> ")),x.type){case"self-declined":t.onDeclined&&t.onDeclined(x),t.ignoreDeclined||(k=new Error("Aborted because of self decline: "+x.moduleId+I));break;case"declined":t.onDeclined&&t.onDeclined(x),t.ignoreDeclined||(k=new Error("Aborted because of declined dependency: "+x.moduleId+" in "+x.parentId+I));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(x),t.ignoreUnaccepted||(k=new Error("Aborted because "+c+" is not accepted"+I));break;case"accepted":t.onAccepted&&t.onAccepted(x),S=!0;break;case"disposed":t.onDisposed&&t.onDisposed(x),j=!0;break;default:throw new Error("Unexception type "+x.type)}if(k)return m("abort"),Promise.reject(k);if(S)for(c in b[c]=v[c],d(h,x.outdatedModules),x.outdatedDependencies)Object.prototype.hasOwnProperty.call(x.outdatedDependencies,c)&&(f[c]||(f[c]=[]),d(f[c],x.outdatedDependencies[c]));j&&(d(h,[x.moduleId]),b[c]=g)}var A,P=[];for(r=0;r<h.length;r++)c=h[r],D[c]&&D[c].hot._selfAccepted&&b[c]!==g&&P.push({module:c,errorHandler:D[c].hot._selfAccepted});m("dispose"),Object.keys(E).forEach(function(e){!1===E[e]&&function(e){delete C[e]}(e)});for(var R,T,N=h.slice();N.length>0;)if(c=N.pop(),i=D[c]){var M={},q=i.hot._disposeHandlers;for(a=0;a<q.length;a++)(n=q[a])(M);for(u[c]=M,i.hot.active=!1,delete D[c],delete f[c],a=0;a<i.children.length;a++){var z=D[i.children[a]];z&&((A=z.parents.indexOf(c))>=0&&z.parents.splice(A,1))}}for(c in f)if(Object.prototype.hasOwnProperty.call(f,c)&&(i=D[c]))for(T=f[c],a=0;a<T.length;a++)R=T[a],(A=i.children.indexOf(R))>=0&&i.children.splice(A,1);for(c in m("apply"),o=y,b)Object.prototype.hasOwnProperty.call(b,c)&&(e[c]=b[c]);var H=null;for(c in f)if(Object.prototype.hasOwnProperty.call(f,c)&&(i=D[c])){T=f[c];var L=[];for(r=0;r<T.length;r++)if(R=T[r],n=i.hot._acceptedDependencies[R]){if(-1!==L.indexOf(n))continue;L.push(n)}for(r=0;r<L.length;r++){n=L[r];try{n(T)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:c,dependencyId:T[r],error:e}),t.ignoreErrored||H||(H=e)}}}for(r=0;r<P.length;r++){var F=P[r];c=F.module,l=[c];try{_(c)}catch(e){if("function"==typeof F.errorHandler)try{F.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:c,error:n,originalError:e}),t.ignoreErrored||H||(H=n),H||(H=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:c,error:e}),t.ignoreErrored||H||(H=e)}}return H?(m("fail"),Promise.reject(H)):(m("idle"),new Promise(function(e){e(h)}))}var D={},C={0:0},A=[];function _(t){if(D[t])return D[t].exports;var n=D[t]={i:t,l:!1,exports:{},hot:d(t),parents:(s=l,l=[],s),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=D[e];if(!t)return _;var n=function(n){return t.hot.active?(D[n]?-1===D[n].parents.indexOf(e)&&D[n].parents.push(e):(l=[e],a=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),l=[]),_(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return _[e]},set:function(t){_[e]=t}}};for(var i in _)Object.prototype.hasOwnProperty.call(_,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(n,i,r(i));return n.e=function(e){return"ready"===p&&m("prepare"),g++,_.e(e).then(t,function(e){throw t(),e});function t(){g--,"prepare"===p&&(w[e]||S(e),0===g&&0===b&&j())}},n.t=function(e,t){return 1&t&&(e=n(e)),_.t(e,-2&t)},n}(t)),n.l=!0,n.exports}_.m=e,_.c=D,_.d=function(e,t,n){_.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},_.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},_.t=function(e,t){if(1&t&&(e=_(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(_.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)_.d(n,r,function(t){return e[t]}.bind(null,r));return n},_.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return _.d(t,"a",t),t},_.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},_.p="",_.h=function(){return o};var P=window.webpackJsonp=window.webpackJsonp||[],R=P.push.bind(P);P.push=t,P=P.slice();for(var T=0;T<P.length;T++)t(P[T]);var N=R;A.push([248,1]),n()}({141:function(e,t,n){(e.exports=n(79)(!1)).push([e.i,".bp3-popover-wrapper{display:flex}.bp3-popover-target,span.bp3-popover-target{display:flex}\n",""])},203:function(e){e.exports=JSON.parse('{"menu":{"simulations":"Simulations","consultants":"Consultants","administration":"Administration","myDetails":"My details","logOut":"Log out","administrationSubmenu":{"connections":"Energy connections","groups":"Company groups management","companies":"Companies management","contracts":"Company energy contracts","subscriptions":"Odot subscriptions","timeline":"Timeline"}},"searchHeader":{"searchBy":"Search by","companyName":"Company name:","vatNumber":"VAT Nr:","companyGroup":"Company group"}}')},248:function(e,t,n){n(249),e.exports=n(489)},488:function(e,t,n){var r=n(141);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1},i=n(80)(r,a);r.locals&&(e.exports=r.locals),r.locals||e.hot.accept(141,function(){var t=n(141);"string"==typeof t&&(t=[[e.i,t,""]]),i(t)}),e.hot.dispose(function(){i()})},489:function(e,t,n){"use strict";n.r(t);n(435),n(436),n(437),n(445);var r=n(1),a=n.n(r),i=n(25),o=n.n(i),c=n(210),u=n(211),l=n(17),s=Object(r.createContext)(null);var d=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.apiUrl=t};var f=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var h=Object(r.createContext)(null);var v=n(152),y=n(203);v.a.init({initImmediate:!1,lng:"en",fallbackLng:"en",resources:{en:{translation:y}},interpolation:{escapeValue:!1}});var b=v.a,g=n(493),w=n(102),x=Object(r.createContext)(null);var E=l.b.div.withConfig({displayName:"Modal__StyledModalContainer",componentId:"sc-171r9mz-0"})(["pointer-events:visible;background:#00000088;width:100%;height:100%;display:flex;align-items:center;justify-content:center;"]);function O(e){var t=e.children,n=e.open,o=e.onClose,c=Object(r.useRef)(null),u=function(){var e=Object(r.useContext)(x);if(!e||!e.current)throw new Error("modal context is required");return e.current}(),l=a.a.createElement(E,{ref:c,onClick:function(e){e.target===c.current&&o()}},t);return n?Object(i.createPortal)(l,u):a.a.createElement(a.a.Fragment,null)}var k="#ccc",S=(l.b.div.withConfig({displayName:"Styles__StyledDropDown",componentId:"yh5bts-0"})(["background:white;box-shadow:1px 1px 4px 2px rgba(0,0,0,0.3);pointer-events:all;"]),Object(l.a)(["min-height:30px;background:white;outline:none;color:",";padding:4px 8px;border:1px solid ",";border-radius:3px;transition:border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out;&:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 2px rgba(0,123,255,0.25);}&.error{border:1px solid red;}"],"#696969","#696969")),j=l.b.textarea.withConfig({displayName:"Styles__StyledTextArea",componentId:"yh5bts-1"})(["",""],S),I=l.b.input.withConfig({displayName:"Styles__StyledTextInput",componentId:"yh5bts-2"})(["",""],S),D=Object(l.a)(["border-radius:5px;transition:background-color 0.15s;cursor:pointer;&:hover{background-color:#eeeeee;}"]),C=l.b.button.withConfig({displayName:"Styles__StyledButton",componentId:"yh5bts-3"})(["display:flex;align-items:center;justify-content:center;font-size:16px;min-height:35px;background-color:white;color:",";border:1px solid ",";",""],"#f2720a","#ebebeb",D),A=l.b.div.withConfig({displayName:"Styles__StyledItem",componentId:"yh5bts-4"})(["border-radius:2px;box-shadow:0 1px 5px rgba(0,0,0,0.46);margin:4px;padding:4px;background:white;display:grid;grid-row-gap:12px;"]),_=l.b.div.withConfig({displayName:"Styles__StyledLink",componentId:"yh5bts-5"})(["cursor:pointer;:hover{text-decoration:underline;}"]);function P(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var T=l.b.div.withConfig({displayName:"ConfirmationCallbackModal__StyledModal",componentId:"pebcu-0"})(["background:white;min-width:400px;min-height:200px;display:flex;align-items:center;justify-content:center;display:flex;flex-direction:column;"]);function N(e){var t,n=e.isOpen,i=e.callback,o=e.onCanceled,c=e.onCompleted,u=R(Object(r.useState)(!1),2),l=u[0],s=u[1],d=R(Object(r.useState)(!1),2),f=d[0],p=d[1],m=(t=Object(r.useRef)(),Object(r.useEffect)(function(){return t.current=!0,function(){t.current=!1}},[]),t);function h(){var e;return e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,i();case 4:c(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),m.current&&s(!0);case 10:return e.prev=10,m.current&&p(!1),e.finish(10);case 13:case"end":return e.stop()}},e,null,[[1,7,10,13]])}),(h=function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){P(i,r,a,o,c,"next",e)}function c(e){P(i,r,a,o,c,"throw",e)}o(void 0)})}).apply(this,arguments)}return a.a.createElement(O,{open:n,onClose:o},a.a.createElement(T,null,a.a.createElement("div",null,"Are you sure?"),a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(C,{onClick:o,disabled:f},"No"),a.a.createElement(C,{onClick:function(){return h.apply(this,arguments)},disabled:f},f?a.a.createElement("div",null,"..."):a.a.createElement("div",null,l?"Retry":"Yes"))),l&&a.a.createElement("div",null,"There was an error.")))}function M(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var z=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.add=t,this.remove=n};var H,L,F,V=0,B=(H=function(e,t){return a.a.createElement(N,{key:e.key,isOpen:!0,callback:e.callback,onCanceled:function(){t.remove(e)},onCompleted:function(){t.remove(e)}})},L=function(e){return{show:function(t){return new Promise(function(n){e.add({key:V++,callback:t,resolve:n})})}}},F=Object(r.createContext)(new z(function(){window.console.warn("This should never be called. Wrap your components in Container")},function(){window.console.warn("This should never be called. Wrap your components in Container")})),{ContainerComponent:function(e){var t=e.children,n=q(Object(r.useState)([]),2),i=n[0],o=n[1],c=Object(r.useMemo)(function(){return new z(function(e){o(function(t){return[].concat(M(t),[e])})},function(e){o(function(t){return t.filter(function(t){return t!==e})})})},[]);return a.a.createElement(F.Provider,{value:c},t,i.map(function(e){return H(e,c)}))},clientHook:function(){var e=Object(r.useContext)(F);if(null===e)throw new Error("This should never be called. Wrap your components in Container");return L(e)}}),U=B.clientHook,W=B.ContainerComponent,Y=0,J=Object(r.createContext)({toaster:null});var G=n(22);function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t,n){return t&&K(e.prototype,t),n&&K(e,n),e}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Q=function e(){Z(this,e),this.next=void 0,this.next=new $(this)},$=function e(t){Z(this,e),this.previous=void 0,this.previous=t},ee=function(){function e(t){Z(this,e),this.next=null,this.previous=null,this.item=void 0,this.item=t}return X(e,[{key:"detachSelf",value:function(){if(!this.next&&!this.previous)throw new Error("node is not attached");this.next&&(this.next.previous=this.previous),this.previous&&(this.previous.next=this.next),this.next=null,this.previous=null}},{key:"attachAfter",value:function(e){if(this.next||this.previous)throw new Error("Node is inserted elsewhere");this.next=e.next,this.previous=e,e.next&&(e.next.previous=this),e.next=this}},{key:"attachBefore",value:function(e){if(!e.previous)throw new Error("no previous node found.");this.attachAfter(e.previous)}},{key:"isAttached",value:function(){return void 0!==this.next}}]),e}(),te=function(){function e(){Z(this,e),this.head=void 0,this.tail=void 0,this.head=new Q,this.tail=this.head.next}return X(e,[{key:"add",value:function(e){var t=new ee(e);return t.attachAfter(this.tail.previous),t}},{key:"getItems",value:function(){var e=[];return this.forEach(function(t){e.push(t)}),e}},{key:"forEach",value:function(e){for(var t=this.head.next;t!==this.tail;){var n=t;if(e(n.item,n),!n.next)throw new Error("badly attached item found.");t=n.next}}},{key:"hasItems",value:function(){return this.head.next!==this.tail}},{key:"getLastItem",value:function(){if(!this.hasItems())throw new Error("no items in list.");return this.head.next}}]),e}();function ne(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=new te,r=t?{item:t}:void 0;return{fire:function(t){e&&(r={item:t}),n.forEach(function(e){e(t)})},subscribable:function(t){var a=n.add(t);return e&&void 0!==r&&t(r.item),{unsubscribe:function(){a.detachSelf()}}}}}var re=n(9),ae=n(8);function ie(e,t){return null===e?Object(ae.isFunction)(t)?t():t:e}var oe=n(147),ce=n.n(oe),ue=regeneratorRuntime.mark(he),le=regeneratorRuntime.mark(ve);function se(e){return e}function de(e,t){return ce.a.minBy(e.filter(function(e){return e.date.isAfter(t)}),function(e){return t.until(e.date,re.a.DAYS)})}function fe(e,t){var n=Math.abs(e.until(t,re.a.DAYS)),r=Math.max(Math.min(2*n,32),1);return t.plusDays(r)}function pe(e,t,n){if(null===n){!function(e){if(!e)throw new Error}(null===t);var r=de(e.scheduleOptions.explicitDates,e.addedOn);return void 0!==r?{date:r.date,item:e,existingEntry:r,scheduleIndex:0}:{date:e.addedOn.plusDays(1),item:e,scheduleIndex:0}}if(null===t){var a=de(e.scheduleOptions.explicitDates,n.date);return void 0!==a?{date:a.date,item:e,existingEntry:a,scheduleIndex:n.scheduleIndex+1}:{date:fe(e.addedOn,n.date),item:e,scheduleIndex:n.scheduleIndex+1}}var i=de(e.scheduleOptions.explicitDates,n.date);return void 0!==i?{date:i.date,item:e,existingEntry:i,scheduleIndex:n.scheduleIndex+1}:{date:fe(t.date,n.date),item:e,scheduleIndex:n.scheduleIndex+1}}function me(e,t,n){var r=pe(e,t,n);return void 0!==e.scheduleOptions.stopAfter&&r.date.isAfter(e.scheduleOptions.stopAfter)?null:r}function he(e){var t,n,r;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t=null,n=null;case 2:if(null!==(r=me(e,n,t))){a.next=6;break}return a.abrupt("return");case 6:return a.next=8,r;case 8:n=t,t=r,a.next=2;break;case 12:case"end":return a.stop()}},ue)}function ve(e){var t,n,r,a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:t=e.map(function(e){var t=he(e),n=t.next();return{iterator:t,last:n}}),n=re.c.now();case 2:if(void 0!==(r=ce.a.minBy(t,function(e){return void 0===e.last.value?1e7:n.until(e.last.value.date,re.a.DAYS)}))){i.next=6;break}return i.abrupt("return");case 6:if(!r.last.done){i.next=8;break}return i.abrupt("return");case 8:return a=r.iterator.next(),i.next=11,r.last.value;case 11:r.last=a,i.next=2;break;case 14:case"end":return i.stop()}},le)}function ye(e,t){for(var n=[],r=0;r<t;r++){var a=e.next();if(a.done)return n;n.push(a.value)}return n}function be(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.next();if(r.done)return[];for(var a=[];;)if(a.push(r.value),(r=e.next()).done||"break"===t(r.value)){n&&a.push(r.value);break}return a}function ge(e){e.items.forEach(function(e){void 0===e.title&&(e.title=e.text,e.text=""),e.addedOn=re.c.parse(e.addedOn),void 0===e.scheduleOptions&&(e.scheduleOptions={explicitDates:e.rememberedDates}),e.scheduleOptions.stopAfter&&(e.scheduleOptions.stopAfter=re.c.parse(e.scheduleOptions.stopAfter)),e.scheduleOptions.explicitDates.forEach(function(e){e.date=re.c.parse(e.date)})})}function we(e,t){var n=e.items.find(function(e){return e.id===t});if(void 0===n)throw new Error("item not found: "+t);return n}function xe(e,t){if(e.lastEventId++,"create-item"===t.type){var n=e.nextId++;e.items.push({addedOn:t.createdOn,id:se(n),title:t.title,text:t.data,scheduleOptions:{explicitDates:[]}})}else if("delete-item"===t.type){var r=e.items.findIndex(function(e){return e.id===t.itemId});if(r<0)throw new Error("item with id ".concat(t.itemId," not found."));e.items.splice(r,1)}else if("mark-done"===t.type){var a=we(e,t.itemId),i=a.scheduleOptions.explicitDates.find(function(e){return e.date.isEqual(t.scheduleDate)});i?i.done=t.isDone:a.scheduleOptions.explicitDates.push({date:t.scheduleDate,done:t.isDone})}else if("set-file-name"===t.type)e.fileName=t.name;else if("archive-item"===t.type){var o=we(e,t.itemId);null===t.lastReminderDate?o.scheduleOptions.stopAfter=void 0:o.scheduleOptions.stopAfter=t.lastReminderDate}else if("set-learn-date"===t.type){we(e,t.itemId).addedOn=t.date}else if("set-revise-date"===t.type){var c=we(e,t.itemId),u=ye(he(c),t.scheduleIndex+2),l=t.scheduleIndex>0?u[t.scheduleIndex-1].date:c.addedOn;if(console.log(t.date),!t.date.isAfter(l))throw new Error("cannot reorder events");var s=u[t.scheduleIndex+1];if(u.length>t.scheduleIndex+1&&void 0!==u[t.scheduleIndex+1].existingEntry&&!s.date.isAfter(t.date))throw new Error("cannot reorder events");var d=c.scheduleOptions.explicitDates.find(function(e){return e.date.isEqual(t.date)});d?d.date=t.date:c.scheduleOptions.explicitDates.push({date:t.date,done:!1})}else if("delete-entry"===t.type){var f=we(e,t.itemId),p=f.scheduleOptions.explicitDates.findIndex(function(e){return e.date.isEqual(t.scheduleDate)});if(p<0)throw new Error;f.scheduleOptions.explicitDates.splice(p,1)}else if("set-title"===t.type){we(e,t.itemId).title=t.title}else if("set-text"===t.type){we(e,t.itemId).text=t.text}else!function(e){throw new Error("should be unreachable.")}()}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Oe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this._onDataChanged=ne(),this._onStatusChanged=ne(),this.onDataChanged=this._onDataChanged.subscribable,this.onStatusChanged=this._onStatusChanged.subscribable,this.type="memory"}var t,n,r;return t=e,(n=[{key:"getData",value:function(){return this.data}},{key:"setData",value:function(e){this.data=e,this._onDataChanged.fire({newData:e})}},{key:"save",value:function(){return Promise.resolve()}}])&&Ee(t.prototype,n),r&&Ee(t,r),e}();function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ie=Object(r.createContext)(function(){var e,t,n=(e=window.localStorage.getItem("data-cache"),ge(t=null===e?{items:[],nextId:0,lastEventId:-1,fileName:"My remember list"}:JSON.parse(e)),t),r=new Oe(n),a=r.onDataChanged(c),i=ne(!0),o=ne(!0,{newData:n});function c(e){window.localStorage.setItem("data-cache",JSON.stringify(e.newData)),o.fire(e)}return{getStore:function(){return r},setStore:function(e){a.unsubscribe(),a=(r=e).onDataChanged(c),i.fire({newStore:e}),n=r.getData(),c({newData:r.getData()})},storeChagned:i.subscribable,observeData:o.subscribable,pushEvent:function(e){if(Array.isArray(e)){var t=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(t=(o=c.next()).done);t=!0){var u=o.value;xe(n,u)}}catch(e){a=!0,i=e}finally{try{t||null==c.return||c.return()}finally{if(a)throw i}}}else xe(n,e);r.setData(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(n,!0).forEach(function(t){je(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n))}}}());function De(){var e=Object(r.useContext)(Ie);return{push:function(t){e.pushEvent(t)}}}function Ce(e){var t=Object(r.useContext)(Ie),n=ke(Object(r.useState)(null),2),a=n[0],i=n[1];return Object(r.useEffect)(function(){var n=t.observeData(function(t){var n=t.newData;i(n),e&&e(n)});return function(){n.unsubscribe()}},[t]),a}Object(l.a)(["display:flex;flex-direction:row;"]),Object(l.a)(["display:flex;flex-direction:column;"]);var Ae=l.b.div.withConfig({displayName:"LayoutStyles__FlexFiller",componentId:"sc-1f3rlvd-0"})(["flex:1 1 0;"]),_e=l.b.div.withConfig({displayName:"LayoutStyles__FlexCenteredRow",componentId:"sc-1f3rlvd-1"})(["display:flex;align-items:center;"]);var Pe,Re={path:Pe="/items",route:function(e){return{exact:!0,path:Pe,render:function(){return e()}}}},Te={makePath:function(e){return null===e?"/today":"/today/"+e},route:function(e){return{exact:!0,path:"/today/:itemIndex?",render:function(t){var n=t.match.params.itemIndex;if("string"!=typeof n||""===n.trim())return e({itemIndex:null});var r=parseInt(n,10);return isNaN(r)?a.a.createElement("div",null,"Invalid item id: ",t.match.params.itemId):e({itemIndex:r})}}}},Ne={makePath:function(e){return"/items/"+e.toString()},route:function(e){return{exact:!0,path:"/items/:itemId",render:function(t){var n=parseInt(t.match.params.itemId,10);return isNaN(n)?a.a.createElement("div",null,"Invalid item id: ",t.match.params.itemId):e({itemId:se(n)})}}}},Me={makePath:function(e){return"/date/"+e},route:function(e){return{exact:!0,path:"/date/:delta?",render:function(t){var n=t.match.params.delta;if("string"!=typeof n||""===n.trim())return e({delta:null});var r=parseInt(n,10);return isNaN(r)?a.a.createElement("div",null,"Invalid delta: ",n):e({delta:r})}}}},qe={makePath:function(e){return null===e?"/continuous":"/continuous/"+e},route:function(e){return{exact:!0,path:"/continuous/:itemId?",render:function(t){var n=t.match.params.itemId;if("string"!=typeof n||""===n.trim())return e({itemId:null});var r=parseInt(n,10);return isNaN(r)?a.a.createElement("div",null,"Invalid delta: ",n):e({itemId:se(r)})}}}},ze={makePath:function(e){return e?"/calendar/"+e.toString():"/calendar"},route:function(e){return{exact:!0,path:"/calendar/:month?",render:function(t){var n,r=t.match.params.itemId;if("string"!=typeof r||""===r.trim())return e({month:null});try{n=re.e.parse(r)}catch(e){return a.a.createElement("div",null,"Invalid month: ",r)}return e({month:n})}}}},He=n(148),Le=n(103);function Fe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ve(){var e=window.localStorage.getItem("recent");return null===e?[]:JSON.parse(e)}function Be(e){var t,n=Ve(),r=[e].concat(Fe(n));t=r,window.localStorage.setItem("recent",JSON.stringify(t))}function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t,n){return t&&We(e.prototype,t),n&&We(e,n),e}function Je(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function Ge(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){Je(i,r,a,o,c,"next",e)}function c(e){Je(i,r,a,o,c,"throw",e)}o(void 0)})}}var Ke=!1;function Xe(e){return Ke?Promise.resolve():new Promise(function(t){gapi.load(e,function(){Ke=!0,t()})})}var Ze=!1;function Qe(e){return new Promise(function(t){gapi.auth.authorize({client_id:"44725971814-4jtha4r70ort05q844tjr1g50h6ejpsm.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/drive.file",immediate:e},function(e){t(e)})})}function $e(){return et.apply(this,arguments)}function et(){return(et=Ge(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(!0);case 2:if(!(t=e.sent).error){e.next=7;break}return e.next=6,Qe(!1);case 6:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tt(e){return nt.apply(this,arguments)}function nt(){return(nt=Ge(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new google.picker.DocsView(google.picker.ViewId.FOLDERS).setParent("root").setIncludeFolders(!0).setMimeTypes("application/vnd.google-apps.folder").setSelectFolderEnabled(!0),e.abrupt("return",new Promise(function(e){(new google.picker.PickerBuilder).addView(n).setOAuthToken(t).setDeveloperKey("AIzaSyAfqmSa7zUxV3O9YVmfFYqhgIe65nMDv7g").setAppId("quickstart-1574022526886").setCallback(function(t){t.action!==google.picker.Action.PICKED&&t.action!==google.picker.Action.CANCEL||e(t)}).build().setVisible(!0)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rt(e){return at.apply(this,arguments)}function at(){return(at=Ge(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new google.picker.DocsView(google.picker.ViewId.DOCS).setIncludeFolders(!0).setParent("root"),e.abrupt("return",new Promise(function(e){(new google.picker.PickerBuilder).addView(n).setOAuthToken(t).setDeveloperKey("AIzaSyAfqmSa7zUxV3O9YVmfFYqhgIe65nMDv7g").setAppId("quickstart-1574022526886").setCallback(function(t){t.action!==google.picker.Action.PICKED&&t.action!==google.picker.Action.CANCEL||e(t)}).build().setVisible(!0)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function it(e,t,n){return ot.apply(this,arguments)}function ot(){return(ot=Ge(regeneratorRuntime.mark(function e(t,n,r){var a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gapi.client.drive.files.create({resource:{mimeType:"text/plain",parents:t?[t]:[],name:r},oauth_token:n});case 2:if(200!==(a=e.sent).status){e.next=6;break}return i=a.result,e.abrupt("return",i.id);case 6:return e.abrupt("return",void 0);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ct(){return(ct=Ge(regeneratorRuntime.mark(function e(t,n,r){var a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={name:r},i={Authorization:"Bearer "+n},e.next=4,gapi.client.request({path:"https://www.googleapis.com/drive/v3/files/".concat(t),method:"PATCH",headers:i,body:a});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ut(e,t){return lt.apply(this,arguments)}function lt(){return(lt=Ge(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={Authorization:"Bearer "+n},e.next=3,fetch("https://www.googleapis.com/drive/v3/files/".concat(t),{method:"GET",headers:new Headers(r)});case 3:if((a=e.sent).ok){e.next=6;break}return e.abrupt("return","bad-response");case 6:return e.abrupt("return",a.json());case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function st(e,t){return dt.apply(this,arguments)}function dt(){return(dt=Ge(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={Authorization:"Bearer "+n},e.next=3,fetch("https://www.googleapis.com/drive/v3/files/".concat(t,"?alt=media"),{method:"GET",headers:new Headers(r)});case 3:if((a=e.sent).ok){e.next=6;break}return e.abrupt("return","bad-response");case 6:return e.abrupt("return",a.json());case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ft(e,t,n){return pt.apply(this,arguments)}function pt(){return(pt=Ge(regeneratorRuntime.mark(function e(t,n,r){var a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify(r),i={Authorization:"Bearer "+n},e.next=4,fetch("https://www.googleapis.com/upload/drive/v3/files/"+t,{method:"PATCH",headers:new Headers(i),body:a});case 4:if(e.sent.ok){e.next=7;break}return e.abrupt("return","bad-response");case 7:return e.abrupt("return","ok");case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}var mt=function(){function e(t,n,r){Ue(this,e),this._fileId=t,this._token=n,this.data=r,this._onDataChanged=ne(),this._onStatusChanged=ne(!0,{newStatus:"saved"}),this.onDataChanged=this._onDataChanged.subscribable,this.onStatusChanged=this._onStatusChanged.subscribable,this.type="gdrive",this.status="saved",this.shouldSave=!1,this.lastScheduledSave={cancel:!1},this.name="",this.name=r.fileName}return Ye(e,[{key:"getData",value:function(){return this.data}},{key:"setData",value:function(e){this.data=e,this.setStatus("dirty"),this._onDataChanged.fire({newData:e}),"saving"===this.status&&(this.shouldSave=!0),this.scheduleSave()}},{key:"save",value:function(){return"saving"===this.status?this.shouldSave=!0:this.scheduleSave(),Promise.resolve()}},{key:"setStatus",value:function(e){this.status=e,this._onStatusChanged.fire({newStatus:e})}},{key:"scheduleSave",value:function(){var e=this;this.lastScheduledSave.cancel=!0;var t={cancel:!1};this.lastScheduledSave=t,window.setTimeout(function(){if(!t.cancel){e.setStatus("saving");var n=Promise.resolve(),r=e.data;e.name!==r.fileName&&(n=function(e,t,n){return ct.apply(this,arguments)}(e._fileId,e._token,r.fileName).then(function(){e.name=r.fileName})),n.then(function(){return ft(e._fileId,e._token,r)}).then(function(){e.setStatus("saved")}).catch(function(){e.setStatus("error")}).finally(function(){e.shouldSave&&e.scheduleSave()})}},1e3)}}]),e}(),ht=function(){function e(){Ue(this,e),this.name="Google Drive",this.type="gdrive"}var t,n,r,a;return Ye(e,[{key:"_loadAndAuthorize",value:(a=Ge(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe("client:auth:picker");case 2:return e.next=4,Ze?Promise.resolve():gapi.client.init({apiKey:"AIzaSyAfqmSa7zUxV3O9YVmfFYqhgIe65nMDv7g",clientId:"44725971814-4jtha4r70ort05q844tjr1g50h6ejpsm.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/drive.file",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"]}).then(function(){Ze=!0});case 4:return e.next=6,$e();case 6:if(!(t=e.sent).error){e.next=9;break}return e.abrupt("return","unauthorized");case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}},e)})),function(){return a.apply(this,arguments)})},{key:"open",value:(r=Ge(regeneratorRuntime.mark(function e(){var t,n,r,a,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._loadAndAuthorize();case 2:if("unauthorized"!==(t=e.sent)){e.next=5;break}return e.abrupt("return","unauthorized");case 5:return e.next=7,rt(t.access_token);case 7:if((n=e.sent).action!==google.picker.Action.CANCEL){e.next=10;break}return e.abrupt("return","pick-canceled");case 10:return r=n.docs[0].id,e.next=13,ut(r,t.access_token);case 13:if("bad-response"!==(a=e.sent)){e.next=16;break}return e.abrupt("return",a);case 16:return i=a.name,e.next=19,st(r,t.access_token);case 19:if("bad-response"!==(o=e.sent)){e.next=22;break}return e.abrupt("return",o);case 22:return ge(o),o.fileName=i,e.abrupt("return",{store:new mt(r,t.access_token,o),file:{type:"gdrive",fileId:r,name:i}});case 25:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"openRecent",value:(n=Ge(regeneratorRuntime.mark(function e(t){var n,r,a,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._loadAndAuthorize();case 2:if("unauthorized"!==(n=e.sent)){e.next=5;break}return e.abrupt("return","unauthorized");case 5:return r=t.fileId,e.next=8,ut(r,n.access_token);case 8:if("bad-response"!==(a=e.sent)){e.next=11;break}return e.abrupt("return",a);case 11:return i=a.name,e.next=14,st(r,n.access_token);case 14:if("bad-response"!==(o=e.sent)){e.next=17;break}return e.abrupt("return",o);case 17:return ge(o),o.fileName=i,e.abrupt("return",new mt(r,n.access_token,o));case 20:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"save",value:(t=Ge(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._loadAndAuthorize();case 2:if("unauthorized"!==(n=e.sent)){e.next=5;break}return e.abrupt("return","unauthorized");case 5:return e.next=7,tt(n.access_token);case 7:if((r=e.sent).action!==google.picker.Action.CANCEL){e.next=10;break}return e.abrupt("return","pick-canceled");case 10:return e.next=12,it(r.docs[0].id,n.access_token,t.fileName);case 12:if(void 0!==(a=e.sent)){e.next=15;break}return e.abrupt("return","cannot-create-file");case 15:return e.next=17,ft(a,n.access_token,t);case 17:return e.abrupt("return",new mt(a,n.access_token,t));case 18:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),e}();function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var yt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name="Local storage",this.type="ls"}var t,n,r;return t=e,(n=[{key:"open",value:function(){throw new Error("Method not implemented.")}},{key:"openRecent",value:function(e){throw new Error("Method not implemented.")}},{key:"save",value:function(){throw new Error("Method not implemented.")}}])&&vt(t.prototype,n),r&&vt(t,r),e}();function bt(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function gt(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){bt(i,r,a,o,c,"next",e)}function c(e){bt(i,r,a,o,c,"throw",e)}o(void 0)})}}function wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var xt=[new ht,new yt];function Et(e){switch(e.state){case"disconnected":return a.a.createElement(He.b,null);case"dirty":return a.a.createElement(Le.c,null);case"offline":return a.a.createElement(Le.b,null);case"error":return a.a.createElement(He.a,null);case"saving":return a.a.createElement(g.r,{size:14});case"saved":return a.a.createElement(Le.a,null)}}function Ot(e){var t=e.factory,n=e.onStatusChanged,i=e.disabled,o=Object(r.useContext)(Ie),c=U(),u=wt(Object(r.useState)([]),2),l=u[0],s=u[1];function d(){return(d=gt(regeneratorRuntime.mark(function e(){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n("opening"),e.prev=1,"memory"===o.getStore().type){e.next=8;break}return e.next=5,c.show(function(){return Promise.resolve()});case 5:if("completed"===e.sent){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,t.open();case 10:if("string"!=typeof(r=e.sent)){e.next=14;break}return n("error"),e.abrupt("return");case 14:a=r.store,Be(r.file),o.setStore(a),n("opened"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),n("error");case 23:case"end":return e.stop()}},e,null,[[1,20]])}))).apply(this,arguments)}function f(){return(f=gt(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n("opening"),e.prev=1,"memory"===o.getStore().type){e.next=9;break}return e.next=5,c.show(function(){return Promise.resolve()});case 5:if("completed"===e.sent){e.next=9;break}return n("opened"),e.abrupt("return");case 9:if(void 0!==(r=xt.find(function(e){return e.type===t.type}))){e.next=12;break}throw new Error;case 12:return e.next=14,r.openRecent(t);case 14:if("string"!=typeof(a=e.sent)){e.next=18;break}return n("error"),e.abrupt("return");case 18:o.setStore(a),n("opened"),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(1),n("error");case 25:case"end":return e.stop()}},e,null,[[1,22]])}))).apply(this,arguments)}return Object(r.useEffect)(function(){s(Ve())},[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(g.p,{content:a.a.createElement(g.l,null,l.map(function(e){return a.a.createElement(g.m,{key:e.fileId+e.type+e.name,text:e.name,onClick:function(){return function(e){return f.apply(this,arguments)}(e)}})})),position:"bottom"},a.a.createElement(g.b,{style:{marginLeft:"20px"}},a.a.createElement(g.a,{style:{minWidth:"80px"},onClick:function(){return d.apply(this,arguments)},loading:i},"Open..."),a.a.createElement(g.a,{icon:"caret-down"}))))}function kt(){var e=wt(Object(r.useState)(!1),2),t=e[0],n=e[1],i=wt(Object(r.useState)(""),2),o=i[0],c=i[1],u=Object(r.useContext)(Ie),l=wt(Object(r.useState)(null),2),s=l[0],d=l[1],f=wt(Object(r.useState)(null),2),p=f[0],m=f[1],h=wt(Object(r.useState)("disconnected"),2),v=h[0],y=h[1],b=Ce();Object(r.useEffect)(function(){var e=u.storeChagned(function(e){var t=e.newStore;m(t)});return function(){e.unsubscribe()}},[u]),Object(r.useEffect)(function(){if(null!==p){var e=p.onStatusChanged(function(e){var t=e.newStatus;y(t)});return function(){e.unsubscribe()}}},[p]);var w=U();function x(){return(x=gt(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c(""),n(!0),e.prev=2,t=null===s?xt[0]:s,null===p){e.next=10;break}return e.next=7,w.show(function(){return Promise.resolve()});case 7:if("completed"===e.sent){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,t.save(b||{items:[],nextId:0,lastEventId:-1,fileName:"My remember list"});case 12:if("string"!=typeof(r=e.sent)){e.next=16;break}return c(r),e.abrupt("return");case 16:u.setStore(r),m(r);case 18:return e.prev=18,n(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[2,,18,21]])}))).apply(this,arguments)}return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ot,{disabled:t,factory:null===s?xt[0]:s,onStatusChanged:function(e){"opening"===e?n(!0):"opened"===e?n(!1):(n(!1),c("error"))}}),a.a.createElement(g.p,{content:a.a.createElement(g.l,null,xt.map(function(e){return a.a.createElement(g.m,{key:e.type+e.type,text:e.name,onClick:function(){d(e)}})})),position:"bottom"},a.a.createElement(g.b,{style:{marginLeft:"20px"}},a.a.createElement(g.a,{style:{minWidth:"80px"},onClick:function(){return x.apply(this,arguments)},loading:t},a.a.createElement("span",null,"save in "),a.a.createElement("span",null,null===s?xt[0].name:s.name)),a.a.createElement(g.a,{icon:"caret-down"}))),a.a.createElement("div",null,o),a.a.createElement("div",{style:{alignSelf:"center",margin:"0 10px"}},a.a.createElement(Et,{state:v})))}function St(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function jt(){var e=St(Object(r.useState)(0),2),t=e[0],n=e[1],i=St(Object(r.useState)(""),2),o=i[0],c=i[1],u=St(Object(r.useState)(),2),l=u[0],s=u[1],d=St(Object(r.useState)(1e7),2),f=d[0],p=d[1],m=St(Object(r.useState)(""),2),h=m[0],v=m[1];Ce(function(e){v(e.fileName)});var y=De(),b=Object(G.g)();Object(r.useEffect)(function(){c(function(e){if(0===e)return"Today";if(1===e)return"Tomorrow";if(-1===e)return"Yesterday";var t=re.c.now().plusDays(e);return"".concat(t.dayOfWeek(),"\n").concat(t.dayOfMonth(),"-").concat(t.month(),"-").concat(t.year())}(t))},[t]);var w=b.location.pathname,x="";"/items"===w?x="items":w.startsWith("/date")?x="date":w.startsWith("/continuous")?x="continuous":"/calendar"===w&&(x="calendar");var E=f<1400;function O(e){s(!1),b.push(e)}return a.a.createElement(a.a.Fragment,null,a.a.createElement(g.q,{onResize:function(e){return p(e[e.length-1].contentRect.width)}},a.a.createElement(g.n,null,a.a.createElement(g.o,null,E&&a.a.createElement(g.a,{style:{marginRight:"10px"},onClick:function(){return s(!l)}},"☰"),!E&&a.a.createElement(a.a.Fragment,null,a.a.createElement(g.u,{animate:!0,large:!0,onChange:function(e){O("/"+e)},selectedTabId:x},a.a.createElement(g.t,{title:"Remember List",id:"today"}),a.a.createElement(g.t,{title:"Items",id:"items"}),a.a.createElement(g.a,{minimal:!0,icon:"caret-left",onClick:function(){n(t-1),O("/date/"+(t-1))}}),a.a.createElement(g.t,{title:o,id:"date",style:{minWidth:"300px",textAlign:"center"}}),a.a.createElement(g.a,{minimal:!0,icon:"caret-right",onClick:function(){n(t-1),O("/date/"+(t+1))}}),a.a.createElement(g.t,{title:"Continuous",id:"continuous"}),a.a.createElement(g.t,{title:"Calendar",id:"calendar"})),a.a.createElement(kt,null)),a.a.createElement(g.f,{key:h,minWidth:150,defaultValue:h,onConfirm:function(e){y.push({type:"set-file-name",name:e})}})))),E&&a.a.createElement(g.e,{title:"Spaced repetition app",isOpen:l,onClose:function(){return s(!1)},position:"left",size:g.e.SIZE_LARGE},a.a.createElement(g.l,{large:!0},a.a.createElement(g.m,{text:"Remember list",onClick:function(){return O(Te.makePath(null))}}),a.a.createElement(g.m,{text:"Items",onClick:function(){return O(Re.path)}}),a.a.createElement(g.m,{text:a.a.createElement(_e,null,a.a.createElement(g.a,{minimal:!0,icon:"caret-left",onClick:function(){n(t-1),O("/date/"+(t-1))}}),a.a.createElement(g.a,{text:o,id:"date",style:{minWidth:"300px",textAlign:"center"},onClick:function(){return O(Re.path)}}),a.a.createElement(g.a,{minimal:!0,icon:"caret-right",onClick:function(){n(t-1),O("/date/"+(t+1))}}))}),a.a.createElement(g.m,{text:"Continuous",onClick:function(){return O(qe.makePath(null))}}),a.a.createElement(kt,null))))}function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(n,!0).forEach(function(t){Ct(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function At(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _t(e){var t=e.selectedMonth,n=At(Object(r.useState)(ie(t,function(){return re.e.now()})),2),i=n[0],o=n[1],c=function(e){for(var t=e.lengthOfMonth(),n=e.atDay(1).dayOfWeek().ordinal(),r=n+t,a=Math.ceil(r/7),i=[],o=e.atDay(1).minusDays(n),c=0;c<a;c++){for(var u=[],l=0;l<7;l++)u.push({date:o}),o=o.plusDays(1);i.push(u)}return i}(i),u=At(Object(r.useState)([]),2),l=u[0],s=u[1],d=At(Object(r.useState)(null),2),f=d[0],p=d[1],m=Ce(),h=Object(G.g)();Object(r.useEffect)(function(){o(ie(t,function(){return re.e.now()}))},[t]),Object(r.useEffect)(function(){i.equals(re.e.now())?h.push("/calendar"):h.push("/calendar/"+i.toString())},[i]),Object(r.useEffect)(function(){if(null!==m){var e=c[0][0].date,t=c[c.length-1],n=t[t.length-1].date,r=be(ve(m.items),function(e){return e.date.isAfter(n)?"break":"continue"}).filter(function(t){return!t.date.isBefore(e)});s(r)}else s([])},[i,m]);var v={boxShadow:"0 1px 5px rgba(0, 0, 0, 0.46)",background:"#e9ed9f"};return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{display:"flex",alignItems:"center",margin:"10px",alignSelf:"center"}},a.a.createElement(C,{onClick:function(){o(i.minusMonths(1))}},"<"),a.a.createElement("div",{style:{width:"200px",display:"flex",justifyContent:"center"}},i.month().name()," ",i.year()),a.a.createElement(C,{onClick:function(){o(i.plusMonths(1))}},">")),a.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:"1 1 0",background:"white"}},c.map(function(e){return a.a.createElement("div",{key:e[0].date.toString(),style:{display:"flex",flex:"1 1 0"}},e.map(function(e){var t=l.filter(function(t){return t.date.equals(e.date)});return a.a.createElement("div",{key:e.date.toString(),style:{flex:"1 1 0",display:"flex",flexDirection:"column",border:"1px solid black",color:e.date.month().equals(i.month())?void 0:k}},a.a.createElement("div",{style:{alignSelf:"center",fontWeight:"bold"}},e.date.dayOfMonth()),t.map(function(e){var t=e.item.id===f;return a.a.createElement(_,{onClick:function(){h.push("/items/"+e.item.id)},key:e.item.id,style:Dt({},t?v:{},{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),onMouseOver:function(){p(e.item.id)},onMouseLeave:function(){p(null)}},e.item.title)}))}))})))}var Pt=n(494);function Rt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Nt(e){var t=e.item,n=Tt(Object(r.useState)(!(!t.existingEntry||!t.existingEntry.done)),2),i=n[0],o=n[1],c=Object(r.useContext)(Ie);return a.a.createElement(A,null,a.a.createElement("div",null,t.item.title),a.a.createElement("div",null,t.date.format(re.b.ISO_LOCAL_DATE)),a.a.createElement(g.s,{checked:i,onClick:function(){c.pushEvent({type:"mark-done",scheduleDate:t.date,isDone:!i,itemId:t.item.id}),o(!i)}},"Done"))}function Mt(e){var t=e.delta,n=Tt(Object(r.useState)([]),2),i=(n[0],n[1]),o=Tt(Object(r.useState)([]),2),c=o[0],u=o[1],l=ie(t,0),s=Ce();return Object(r.useEffect)(function(){if(null!==s){var e=re.c.now().plusDays(l),t=function(e,t){for(var n=ve(e.items),r=n.next(),a=[],i=[];!r.done&&!r.value.date.isAfter(t);)r.value.date.isEqual(t)?a.push(r.value):i.push(r.value),r=n.next();return{forDay:a,previous:i}}(s,e),n=t.forDay,r=t.previous;i([].concat(Rt(r),Rt(n))),u(n)}},[t,s]),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,c.map(function(e,t){return a.a.createElement(Nt,{key:e.item.id.toString()+t,item:e})})))}function qt(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function zt(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){qt(i,r,a,o,c,"next",e)}function c(e){qt(i,r,a,o,c,"throw",e)}o(void 0)})}}function Ht(e){var t=e.item,n=De();return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{display:"grid",gridGap:"4px",gridAutoFlow:"column"}},a.a.createElement(g.a,{onClick:zt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("are you sure? this will delete item completely. you can archive it instead.")){e.next=2;break}return e.abrupt("return");case 2:n.push({type:"delete-item",itemId:t.id});case 3:case"end":return e.stop()}},e)})),icon:"trash"},"Delete"),a.a.createElement(g.a,{onClick:zt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.push({type:"archive-item",itemId:t.id,lastReminderDate:re.c.now()});case 1:case"end":return e.stop()}},e)})),icon:"archive"},"Archive")),t.scheduleOptions.stopAfter&&a.a.createElement(_e,null,a.a.createElement("div",null,"archived after: ",t.scheduleOptions.stopAfter.toString()),a.a.createElement(g.a,{large:!0,icon:"unarchive",onClick:function(){n.push({type:"archive-item",itemId:t.id,lastReminderDate:null})}})))}function Lt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Vt(e){var t=e.itemId,n=Ft(Object(r.useState)([]),2),i=n[0],o=n[1],c=Ft(Object(r.useState)(),2),u=c[0],l=c[1],s=Ft(Object(r.useState)(null),2),d=s[0],f=s[1],p=Ce(),m=De();return Object(r.useEffect)(function(){if(null!==p)if(null===t){var e=ve(p.items);l(e),o(ye(e,10))}else{var n=p.items,r=t,a=n.find(function(e){return e.id===r});if(void 0===a)throw new Error("no item found with id: "+t);f(a);var i=ve([a]);l(i),o(ye(i,10))}},[t,p]),a.a.createElement(a.a.Fragment,null,null!==d&&a.a.createElement(A,null,a.a.createElement("div",null,d.title),a.a.createElement("div",null,d.text),a.a.createElement(Pt.a,{popoverProps:{position:"bottom"},formatDate:function(e){return e.toDateString()},parseDate:function(e){return new Date(Date.parse(e))},maxDate:new Date(2100,1),value:Object(re.f)(d.addedOn.atStartOfDay()).toDate(),onChange:function(e){return m.push({type:"set-learn-date",itemId:d.id,date:Object(re.g)(e).query(re.d.localDate())})}}),a.a.createElement(Ht,{item:d})),a.a.createElement("div",null,i.map(function(e,t){return a.a.createElement(Nt,{key:t,item:e})}),a.a.createElement(C,{onClick:function(){if(void 0!==u){var e=ye(u,10);o([].concat(Lt(i),Lt(e)))}}},"show more...")))}var Bt=n(19);function Ut(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(function(e){return"string"==typeof e?e:e[0]?e[1]:""}).join(" ")}function Wt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Jt=Object(l.b)(A).withConfig({displayName:"ItemDetails__StyledScheduledItem",componentId:"sc-167uriv-0"})(["max-width:300px;border:1px solid black;&.generated{border:1px dashed black;}"]);function Gt(e){var t=e.itemId,n=De(),i=Yt(Object(r.useState)(null),2),o=i[0],c=i[1],u=Yt(Object(r.useState)(null),2),l=u[0],s=u[1],d=Yt(Object(r.useState)([]),2),f=d[0],p=d[1],m=Yt(Object(r.useState)(0),2),h=m[0],v=m[1];return Ce(function(e){var n=e.items.find(function(e){return e.id===t});n&&(s(n),v(function(e){return e+1}))}),Object(r.useEffect)(function(){if(null!==l){var e=he(l);c(e);var t=ye(e,20);p(t)}},[l,h]),null===l?a.a.createElement("div",null,"Loading..."):a.a.createElement("div",null,a.a.createElement(A,null,a.a.createElement(g.f,{placeholder:"Click to edit title",multiline:!0,defaultValue:l.title,onConfirm:function(e){return n.push({type:"set-title",itemId:l.id,title:e})}}),a.a.createElement(g.f,{placeholder:"Click to edit text",multiline:!0,defaultValue:l.text,onConfirm:function(e){return n.push({type:"set-text",itemId:l.id,text:e})}}),a.a.createElement(Pt.a,{popoverProps:{position:Bt.a.BOTTOM},formatDate:function(e){return e.toDateString()},parseDate:function(e){return new Date(Date.parse(e))},maxDate:new Date(2100,1),value:Object(re.f)(l.addedOn.atStartOfDay()).toDate(),onChange:function(e){return n.push({type:"set-learn-date",itemId:l.id,date:Object(re.g)(e).query(re.d.localDate())})}})),f.map(function(e){return a.a.createElement(Jt,{key:e.date.toString(),className:Ut([!e.existingEntry,"generated"])},e.existingEntry&&a.a.createElement(_,{onClick:function(){n.push({type:"delete-entry",itemId:l.id,scheduleDate:e.date})}},"remove entry"),a.a.createElement(Pt.a,{popoverProps:{position:Bt.a.BOTTOM},formatDate:function(e){return e.toDateString()},parseDate:function(e){return new Date(Date.parse(e))},maxDate:new Date(2100,1),value:Object(re.f)(e.date.atStartOfDay()).toDate(),onChange:function(t,r){r&&(console.log(t),n.push({type:"set-revise-date",itemId:l.id,date:Object(re.g)(t).query(re.d.localDate()),scheduleIndex:e.scheduleIndex}))}}),a.a.createElement(g.s,{checked:!(!e.existingEntry||!e.existingEntry.done),onClick:function(){n.push({type:"mark-done",scheduleDate:e.date,isDone:!(e.existingEntry&&e.existingEntry.done),itemId:e.item.id})}},"Done"))}),a.a.createElement(C,{onClick:function(){if(null!==o){var e=ye(o,10);p([].concat(Wt(f),Wt(e)))}}},"show more..."))}function Kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Xt(){var e=Kt(Object(r.useState)(""),2),t=e[0],n=e[1],i=Kt(Object(r.useState)(""),2),o=i[0],c=i[1],u=Kt(Object(r.useState)([]),2),l=u[0],s=u[1],d=Object(G.g)();Ce(function(e){s(e.items)});var f=De();return a.a.createElement(a.a.Fragment,null,a.a.createElement(A,{style:{display:"flex",flexDirection:"column",alignItems:"stretch"}},a.a.createElement(I,{style:{marginBottom:"4px"},placeholder:"Title",value:t,onChange:function(e){return n(e.target.value)}}),a.a.createElement(j,{placeholder:"Text",value:o,onChange:function(e){return c(e.target.value)}}),a.a.createElement(C,{onClick:function(){f.push({type:"create-item",title:t,data:o,createdOn:re.c.now()})}},"Add")),l.map(function(e){return a.a.createElement(A,{key:e.id},a.a.createElement(_,{onClick:function(){d.push("/items/"+e.id)}},e.title),a.a.createElement("div",null,e.text),a.a.createElement(Pt.a,{popoverProps:{position:"bottom"},formatDate:function(e){return e.toDateString()},parseDate:function(e){return new Date(Date.parse(e))},maxDate:new Date(2100,1),value:Object(re.f)(e.addedOn.atStartOfDay()).toDate(),onChange:function(t){return f.push({type:"set-learn-date",itemId:e.id,date:Object(re.g)(t).query(re.d.localDate())})}}),a.a.createElement(Ht,{item:e}))}))}function Zt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Qt(e){var t,n=ie(e.itemIndex,0),i=Zt(Object(r.useState)([]),2),o=i[0],c=i[1],u=Zt(Object(r.useState)("archived"),2),l=u[0],s=u[1],d=Zt(Object(r.useState)(!1),2),f=d[0],p=d[1],m=Object(G.g)(),h=re.c.now(),v=De(),y=(t=Object(r.useContext)(J),{addText:function(e){if(null===t.toaster)throw new Error("missing context");t.toaster.show({message:e},(Y++).toString())},add:function(e){if(null===t.toaster)throw new Error("missing context");t.toaster.show(e,(Y++).toString())}});if(Object(r.useEffect)(function(){if(n>o.length-1)s("archived");else{var e=be(he(o[n].item),function(e){return e.date.isAfter(h)?"break":"continue"},!0),t=e[e.length-1];t.date.isAfter(h)?s(t):s("archived")}},[o,n]),Ce(function(e){var t=be(ve(e.items),function(e){return e.date.isAfter(h)?"break":"continue"}).filter(function(e){return e.date.isEqual(h)});c(t)}),0===o.length)return a.a.createElement(g.g,{style:{alignSelf:"center"}},"Nothing to remember today :(");var b=o[n],w=b.existingEntry&&b.existingEntry.done,x="archived"===l?"archived":h.until(l.date,re.a.DAYS),E=w?"archived"===x?"Item is archived":"Next reminder in "+x+" days":"archived"===x?"Mark done and do not remind (item archived)":"Mark done and remind in "+x+" days",O=o.filter(function(e){return!e.existingEntry||!e.existingEntry.done}).length,k=O>0?" (".concat(O," not yet done)"):a.a.createElement(g.j,{style:{marginLeft:"10px"},icon:"tick-circle",intent:"success"});return a.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:"1 1 auto",padding:"6px"}},a.a.createElement("div",{style:{display:"flex",alignItems:"center",alignSelf:"center"}},a.a.createElement(g.a,{large:!0,disabled:n<=0,style:{width:"130px"},icon:"chevron-left",onClick:function(){m.push(Te.makePath(Math.max(n-1,0)))}},"Previous"),a.a.createElement("div",{style:{margin:"0 10px"}},n+1," / ",o.length,k),a.a.createElement(g.a,{large:!0,disabled:n>=o.length-1,style:{width:"130px"},rightIcon:"chevron-right",onClick:function(){m.push(Te.makePath(Math.min(n+1,o.length-1)))}},"Next")),a.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:"1 1 auto"}},a.a.createElement(g.c,{elevation:2,style:{marginTop:"10px"}},a.a.createElement("div",{style:{display:"flex",alignItems:"center"}},a.a.createElement(g.h,{style:{marginBottom:"0",marginRight:"10px"}},b.item.title),b.existingEntry&&b.existingEntry.done&&a.a.createElement(g.j,{icon:"tick-circle",intent:"success"})),a.a.createElement("div",null,b.item.text),a.a.createElement("div",{style:{height:"20px"}})),a.a.createElement(Ae,null),a.a.createElement("div",{style:{display:"flex",alignItems:"center"}},a.a.createElement(g.a,{disabled:!w,style:{marginRight:"20px"},large:!0,onClick:function(){v.push({type:"mark-done",isDone:!1,itemId:b.item.id,scheduleDate:b.date})}},"Mark undone"),a.a.createElement(Ae,null),a.a.createElement(g.p,{content:a.a.createElement(g.l,{large:!0},a.a.createElement(g.m,{disabled:w,text:"Mark done and archive",onClick:function(){v.push([{type:"mark-done",isDone:!0,itemId:b.item.id,scheduleDate:b.date},{type:"archive-item",itemId:b.item.id,lastReminderDate:h}]);var e=o.findIndex(function(e){return!(e===b||e.existingEntry&&e.existingEntry.done)});e>=0&&m.push(Te.makePath(e))}}),a.a.createElement(g.m,{text:"Archive",icon:"archive",onClick:function(){v.push({type:"archive-item",itemId:b.item.id,lastReminderDate:h.minusDays(1)}),y.add({message:"Item archived",action:{text:"Undo",onClick:function(){v.push({type:"archive-item",itemId:b.item.id,lastReminderDate:null})}}})}}),a.a.createElement(g.m,{text:"Mark Done and set next reminder..."})),position:"bottom",isOpen:f},a.a.createElement(g.b,null,a.a.createElement(g.a,{large:!0,intent:"primary",disabled:w,onClick:function(){v.push({type:"mark-done",isDone:!0,itemId:b.item.id,scheduleDate:b.date});var e=o.findIndex(function(e){return!(e===b||e.existingEntry&&e.existingEntry.done)});e>=0&&m.push(Te.makePath(e))}},E),a.a.createElement(g.a,{large:!0,intent:"primary",icon:"caret-down",onClick:function(){return p(!f)}}))))))}function $t(){return a.a.createElement(G.d,null,a.a.createElement(G.a,{from:"/",exact:!0,to:"/items"}),a.a.createElement(G.b,Re.route(function(){return a.a.createElement(Xt,null)})),a.a.createElement(G.b,Te.route(function(e){return a.a.createElement(Qt,{itemIndex:e.itemIndex})})),a.a.createElement(G.b,Ne.route(function(e){return a.a.createElement(Gt,{itemId:e.itemId})})),a.a.createElement(G.b,Me.route(function(e){return a.a.createElement(Mt,{delta:e.delta})})),a.a.createElement(G.b,qe.route(function(e){return a.a.createElement(Vt,{itemId:e.itemId})})),a.a.createElement(G.b,ze.route(function(e){return a.a.createElement(_t,{selectedMonth:e.month})})))}var en=l.b.div.withConfig({displayName:"Layout__StyledAppRoot",componentId:"sc-5031p7-0"})(["width:100%;height:100%;display:flex;flex-direction:column;align-items:stretch;justify-content:stretch;background:#e1e3e6;overflow:auto;"]);function tn(){var e=Object(r.useRef)(),t=Object(r.useContext)(J);return a.a.createElement(en,null,a.a.createElement(x.Provider,{value:e},a.a.createElement(W,null,a.a.createElement(w.a,null,a.a.createElement(jt,null),a.a.createElement($t,null)))),a.a.createElement(g.v,{ref:function(e){t.toaster=e}}),a.a.createElement("div",{ref:function(t){return e.current=t},style:{position:"absolute",width:"100%",height:"100%",pointerEvents:"none",zIndex:2,background:"transparent"}}))}l.b.div.withConfig({displayName:"Shell__StyledLoginText",componentId:"sc-1f8y22c-0"})(["height:100%;display:flex;justify-content:center;align-items:center;"]);function nn(){var e=function(){var e=m(Object(r.useState)(null),2),t=e[0],n=e[1];return Object(r.useEffect)(function(){fetch("public/environment.json").then(function(e){return e.json()}).then(function(e){n(e)})},[]),t}(),t=function(e){var t=p(Object(r.useState)(null),2),n=t[0],a=t[1];return Object(r.useEffect)(function(){null!==e?e.useTestApi?a(new f):a(new d(e.apiUrl)):a(null)},[e]),n}(e);return null===e||null===t?a.a.createElement("div",{className:"lds-container"},a.a.createElement("div",{className:"lds-ring"},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))):a.a.createElement(u.a,{i18n:b},a.a.createElement(h.Provider,{value:e},a.a.createElement(s.Provider,{value:t},a.a.createElement(tn,null))))}function rn(e){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e,t){return!t||"object"!==rn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cn(e){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function un(e,t){return(un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ln=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),on(this,cn(t).apply(this,arguments))}var n,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&un(e,t)}(t,r["Component"]),n=t,(i=[{key:"render",value:function(){return a.a.createElement(nn,null)}}])&&an(n.prototype,i),o&&an(n,o),t}(),sn=Object(c.hot)(ln);n(488);o.a.render(a.a.createElement(sn,null),document.getElementById("root"))}});